(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function Xe(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Xe.compatConfig={MODE:3};function an(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}an.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}St.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Bt.compatConfig={MODE:3};const $e=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Ct=(t,n,l)=>{const a=Tt(t,n,l);return a||x()},Yn=(t,n,l)=>{const a=n.dateInTz?$e(new Date(t),n.dateInTz):x(t);return l?Te(a,!0):a},Tt=(t,n,l)=>{if(!t)return null;const a=l?Te(x(t),!0):x(t);return n?n.exactMatch?Yn(t,n,l):$e(a,n.timezone):a},Vn=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:t})),r=a.getTimezoneOffset()/60;return(+l-+a)/(1e3*60*60)-r};var Ne=(t=>(t.month="month",t.year="year",t))(Ne||{}),Ke=(t=>(t.top="top",t.bottom="bottom",t))(Ke||{}),xe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(xe||{}),De=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(De||{});const _n=["timestamp","date","iso"];var Be=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Be||{}),pe=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(pe||{});function rn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function In(t){return n=>s.format($e(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const zn=(t,n,l)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(In(t))}catch{r=a.map(rn(n))}else r=a.map(rn(n));const c=r.slice(0,l),d=r.slice(l+1,r.length);return[r[l]].concat(...d).concat(...c)},$t=(t,n,l)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:dn(r,n)});return l?a.reverse():a},ln=(t,n,l)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const d=c<10?`0${c}`:c;return new Date(`2017-${d}-01T00:00:00+00:00`)});if(t!==null)try{const c=l==="long"?"LLLL":"LLL";return a.map((d,v)=>{const f=s.format($e(d,"UTC"),c,{locale:t});return{text:f.charAt(0).toUpperCase()+f.substring(1),value:v}})}catch{}const r=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return a.map((c,d)=>{const v=r.format(c);return{text:v.charAt(0).toUpperCase()+v.substring(1),value:d}})},Ln=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],we=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Hn=t=>({type:"dot",...t??{}}),on=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,At={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ve=t=>t,sn=t=>t===0?t:!t||isNaN(+t)?null:+t,un=t=>t===null,cn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Un=t=>{const n=[],l=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(l(r))}return n},tt=(t,n,l)=>{const a=l!=null,r=n!=null;if(!a&&!r)return!1;const c=+l,d=+n;return a&&r?+t>c||+t<d:a?+t>c:r?+t<d:!1},Je=(t,n)=>Un(t).map(l=>l.map(a=>{const{active:r,disabled:c,isBetween:d,highlighted:v}=n(a);return{...a,active:r,disabled:c,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&r,dp__cell_in_between:d,"dp--highlighted":v}}})),Ie=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Wn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function jn(t,n){let l=[...document.querySelectorAll(Wn())];l=l.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=l.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=l.length))return l[a+(n?-1:1)]}const Pt=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),dn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Rt=t=>s.format(t,"dd-MM-yyyy"),Nt=t=>Array.isArray(t),ct=(t,n)=>n.get(Rt(t)),Kn=(t,n)=>t?n?n instanceof Map?!!ct(t,n):n(x(t)):!1:!0,Ce=(t,n,l=!1,a)=>{if(t.key===pe.enter||t.key===pe.space)return l&&t.preventDefault(),n();if(a)return a(t)},fn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,mn=(t,n,l,a,r,c)=>{const d=s.parse(t,n.slice(0,t.length),new Date,{locale:c});return s.isValid(d)&&s.isDate(d)?a||r?d:s.set(d,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},xn=(t,n,l,a,r,c)=>{const d=Array.isArray(l)?l[0]:l;if(typeof n=="string")return mn(t,n,d,a,r,c);if(Array.isArray(n)){let v=null;for(const f of n)if(v=mn(t,f,d,a,r,c),v)break;return v}return typeof n=="function"?n(t):null},x=t=>t?new Date(t):new Date,qn=(t,n,l)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),d=t.getHours().toString().padStart(2,"0"),v=t.getMinutes().toString().padStart(2,"0"),f=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${c}T${d}:${v}:${f}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Te=(t,n)=>{const l=x(JSON.parse(JSON.stringify(t))),a=s.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?s.startOfMonth(a):a},ze=(t,n,l,a)=>{let r=t?x(t):x();return(n||n===0)&&(r=s.setHours(r,+n)),(l||l===0)&&(r=s.setMinutes(r,+l)),(a||a===0)&&(r=s.setSeconds(r,+a)),s.setMilliseconds(r,0)},he=(t,n)=>!t||!n?!1:s.isBefore(Te(t),Te(n)),fe=(t,n)=>!t||!n?!1:s.isEqual(Te(t),Te(n)),ke=(t,n)=>!t||!n?!1:s.isAfter(Te(t),Te(n)),dt=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ke(l,t[0])&&he(l,t[1]):t!=null&&t[0]&&n?ke(l,t[0])&&he(l,n)||he(l,t[0])&&ke(l,n):!1,Ee=t=>{const n=s.set(new Date(t),{date:1});return Te(n)},Et=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,l]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},qe=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),pn=(t,n)=>{if(n){const l=s.getYear(x(n));if(l>t)return 12;if(l===t)return s.getMonth(x(n))}},gn=(t,n)=>{if(n){const l=s.getYear(x(n));return l<t?-1:l===t?s.getMonth(x(n)):void 0}},Ze=t=>{if(t)return s.getYear(x(t))},yn=(t,n)=>{const l=ke(t,n)?n:t,a=ke(n,t)?n:t;return s.eachDayOfInterval({start:l,end:a})},Gn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Ve=(t,n)=>{const l=s.startOfWeek(t,{weekStartsOn:+n}),a=s.endOfWeek(t,{weekStartsOn:+n});return[l,a]},hn=(t,n)=>{const l={hours:s.getHours(x()),minutes:s.getMinutes(x()),seconds:n?s.getSeconds(x()):0};return Object.assign(l,t)},Le=(t,n,l)=>[s.set(x(t),{date:1}),s.set(x(),{month:n,year:l,date:1})],_e=(t,n,l)=>{let a=t?x(t):x();return(n||n===0)&&(a=s.setMonth(a,n)),l&&(a=s.setYear(a,l)),a},kn=(t,n,l,a,r)=>{if(!a||r&&!n||!r&&!l)return!1;const c=r?s.addMonths(t,1):s.subMonths(t,1),d=[s.getMonth(c),s.getYear(c)];return r?!Xn(...d,n):!Qn(...d,l)},Qn=(t,n,l)=>he(...Le(l,t,n))||fe(...Le(l,t,n)),Xn=(t,n,l)=>ke(...Le(l,t,n))||fe(...Le(l,t,n)),bn=(t,n,l,a,r,c,d)=>{if(typeof n=="function"&&!d)return n(t);const v=l?{locale:l}:void 0;return Array.isArray(t)?`${s.format(t[0],c,v)}${r&&!t[1]?"":a}${t[1]?s.format(t[1],c,v):""}`:s.format(t,c,v)},Fe=t=>{if(t)return null;throw new Error(At.prop("partial-range"))},ft=(t,n)=>{if(n)return t();throw new Error(At.prop("range"))},Ot=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Jn=(t,n)=>s.set(n??x(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Yt=(t,n,l,a)=>{if(!t)return!0;if(a){const r=l==="max"?s.isBefore(t,n):s.isAfter(t,n),c={seconds:0,milliseconds:0};return r||s.isEqual(s.set(t,c),s.set(n,c))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Vt=(t,n,l)=>t?Jn(t,n):x(l??n),vn=(t,n,l,a,r)=>{if(Array.isArray(a)){const d=Vt(t,a[0],n),v=Vt(t,a[1],n);return Yt(a[0],d,l,!!n)&&Yt(a[1],v,l,!!n)&&r}const c=Vt(t,a,n);return Yt(a,c,l,!!n)&&r},_t=t=>s.set(x(),qe(t)),Zn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>s.getYear(x(l))===n).map(l=>s.getMonth(l)):[],wn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(a=>a.month===n&&a.year===l),It=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Mn=t=>s.format(t,"yyyy-MM-dd"),nt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Dn=()=>{const t=a=>{nt.menuFocused=a},n=a=>{nt.shiftKeyInMenu!==a&&(nt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:nt.shiftKeyInMenu,menuFocused:nt.menuFocused})),setMenuFocused:t,setShiftKey:n}},ge=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),zt=e.ref(null),mt=e.ref(!1),Lt=e.ref(!1),Ht=e.ref(!1),Ut=e.ref(!1),Se=e.ref(0),be=e.ref(0),He=()=>{const t=e.computed(()=>mt.value?[...ge.selectionGrid,ge.actionRow].filter(m=>m.length):Lt.value?[...ge.timePicker[0],...ge.timePicker[1],Ut.value?[]:[zt.value],ge.actionRow].filter(m=>m.length):Ht.value?[...ge.monthPicker,ge.actionRow]:[ge.monthYear,...ge.calendar,ge.time,ge.actionRow].filter(m=>m.length)),n=m=>{Se.value=m?Se.value+1:Se.value-1;let E=null;t.value[be.value]&&(E=t.value[be.value][Se.value]),!E&&t.value[be.value+(m?1:-1)]?(be.value=be.value+(m?1:-1),Se.value=m?0:t.value[be.value].length-1):E||(Se.value=m?Se.value-1:Se.value+1)},l=m=>{if(be.value===0&&!m||be.value===t.value.length&&m)return;be.value=m?be.value+1:be.value-1,t.value[be.value]?t.value[be.value]&&!t.value[be.value][Se.value]&&Se.value!==0&&(Se.value=t.value[be.value].length-1):be.value=m?be.value-1:be.value+1},a=m=>{let E=null;t.value[be.value]&&(E=t.value[be.value][Se.value]),E?E.focus({preventScroll:!mt.value}):Se.value=m?Se.value-1:Se.value+1},r=()=>{n(!0),a(!0)},c=()=>{n(!1),a(!1)},d=()=>{l(!1),a(!0)},v=()=>{l(!0),a(!0)},f=(m,E)=>{ge[E]=m},z=(m,E)=>{ge[E]=m},p=()=>{Se.value=0,be.value=0};return{buildMatrix:f,buildMultiLevelMatrix:z,setTimePickerBackRef:m=>{zt.value=m},setSelectionGrid:m=>{mt.value=m,p(),m||(ge.selectionGrid=[])},setTimePicker:(m,E=!1)=>{Lt.value=m,Ut.value=E,p(),m||(ge.timePicker[0]=[],ge.timePicker[1]=[])},setTimePickerElements:(m,E=0)=>{ge.timePicker[E]=m},arrowRight:r,arrowLeft:c,arrowUp:d,arrowDown:v,clearArrowNav:()=>{ge.monthYear=[],ge.calendar=[],ge.time=[],ge.actionRow=[],ge.selectionGrid=[],ge.timePicker[0]=[],ge.timePicker[1]=[],mt.value=!1,Lt.value=!1,Ut.value=!1,Ht.value=!1,p(),zt.value=null},setMonthPicker:m=>{Ht.value=m,p()},refSets:ge}},Sn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Fn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Bn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ea=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Bn(!1)};const a=n?t:{},r=n?a.count??!0:t,c=Bn(r);return Object.assign(l,a,{count:c})},ta=(t,n,l)=>t||(typeof l=="string"?l:n),na=t=>typeof t=="boolean"?t?Sn({}):!1:Sn(t),aa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ra=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),la=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),oa=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},sa=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1},...t??{}}),ia=t=>{const n={dates:Array.isArray(t)?t.map(l=>x(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ua=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ca=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},da=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Wt=(t,n,l)=>new Map(t.map(a=>{const r=Ct(a,n,l);return[Rt(r),r]})),fa=(t,n)=>t.length?new Map(t.map(l=>{const a=Ct(l.date,n);return[Rt(a),l]})):null,ma=t=>{var n;return{minDate:Tt(t.minDate,t.timezone,t.isSpecific),maxDate:Tt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Nt(t.disabledDates)?Wt(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Nt(t.allowedDates)?Wt(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Nt((n=t.highlight)==null?void 0:n.dates)?Wt(t.highlight.dates,t.timezone):t.highlight,markers:fa(t.markers,t.timezone)}},pa=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ga=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const a=l,r=t[a],c=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(d=>[d,!0]));return[l,c]}))}),ye=t=>{const n=()=>{const ne=t.enableSeconds?":ss":"",J=t.enableMinutes?":mm":"";return t.is24?`HH${J}${ne}`:`hh${J}${ne} aa`},l=()=>{var ne;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((ne=U.value)==null?void 0:ne.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=ne=>hn(ne,t.enableSeconds),r=()=>q.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,c=e.computed(()=>ea(t.multiCalendars)),d=e.computed(()=>r()),v=e.computed(()=>Fn(t.ariaLabels)),f=e.computed(()=>ra(t.filters)),z=e.computed(()=>na(t.transitions)),p=e.computed(()=>la(t.actionRow)),N=e.computed(()=>ta(t.previewFormat,t.format,l())),b=e.computed(()=>aa(t.textInput)),P=e.computed(()=>oa(t.inline)),H=e.computed(()=>sa(t.config)),_=e.computed(()=>ia(t.highlight)),U=e.computed(()=>ua(t.weekNumbers)),m=e.computed(()=>da(t.timezone)),E=e.computed(()=>pa(t.multiDates)),$=e.computed(()=>ma({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:_.value,markers:t.markers,timezone:m.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),q=e.computed(()=>ca(t.range)),F=e.computed(()=>ga(t.ui));return{defaultedTransitions:z,defaultedMultiCalendars:c,defaultedStartTime:d,defaultedAriaLabels:v,defaultedFilters:f,defaultedActionRow:p,defaultedPreviewFormat:N,defaultedTextInput:b,defaultedInline:P,defaultedConfig:H,defaultedHighlight:_,defaultedWeekNumbers:U,defaultedRange:q,propDates:$,defaultedTz:m,defaultedMultiDates:E,defaultedUI:F,getDefaultPattern:l,getDefaultStartTime:r}},ya=(t,n,l)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:c,defaultedTz:d,defaultedMultiDates:v,getDefaultPattern:f}=ye(n),z=e.ref(""),p=e.toRef(n,"format"),N=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,S(!0))},{deep:!0}),e.watch(c,(u,ee)=>{u.enabled!==ee.enabled&&(a.value=null)}),e.watch(p,()=>{Q()});const b=u=>d.value.timezone&&d.value.convertModel?$e(u,d.value.timezone):u,P=u=>{if(d.value.timezone&&d.value.convertModel){const ee=Vn(d.value.timezone);return s.addHours(u,ee)}return u},H=(u,ee,ue=!1)=>bn(u,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,ee??f(),ue),_=u=>u?n.modelType?y(u):{hours:s.getHours(u),minutes:s.getMinutes(u),seconds:n.enableSeconds?s.getSeconds(u):0}:null,U=u=>n.modelType?y(u):{month:s.getMonth(u),year:s.getYear(u)},m=u=>Array.isArray(u)?v.value.enabled?u.map(ee=>E(ee,s.setYear(x(),ee))):ft(()=>[s.setYear(x(),u[0]),u[1]?s.setYear(x(),u[1]):Fe(c.value.partialRange)],c.value.enabled):s.setYear(x(),+u),E=(u,ee)=>(typeof u=="string"||typeof u=="number")&&n.modelType?C(u):ee,$=u=>Array.isArray(u)?[E(u[0],ze(null,+u[0].hours,+u[0].minutes,u[0].seconds)),E(u[1],ze(null,+u[1].hours,+u[1].minutes,u[1].seconds))]:E(u,ze(null,u.hours,u.minutes,u.seconds)),q=u=>{const ee=s.set(x(),{date:1});return Array.isArray(u)?v.value.enabled?u.map(ue=>E(ue,_e(ee,+ue.month,+ue.year))):ft(()=>[E(u[0],_e(ee,+u[0].month,+u[0].year)),E(u[1],u[1]?_e(ee,+u[1].month,+u[1].year):Fe(c.value.partialRange))],c.value.enabled):E(u,_e(ee,+u.month,+u.year))},F=u=>{if(Array.isArray(u))return u.map(ee=>C(ee));throw new Error(At.dateArr("multi-dates"))},ne=u=>{if(Array.isArray(u)&&c.value.enabled){const ee=u[0],ue=u[1];return[x(Array.isArray(ee)?ee[0]:null),Array.isArray(ue)&&ue.length?x(ue[0]):null]}return x(u[0])},J=u=>n.modelAuto?Array.isArray(u)?[C(u[0]),C(u[1])]:n.autoApply?[C(u)]:[C(u),null]:Array.isArray(u)?ft(()=>u[1]?[C(u[0]),u[1]?C(u[1]):Fe(c.value.partialRange)]:[C(u[0])],c.value.enabled):C(u),T=()=>{Array.isArray(a.value)&&c.value.enabled&&a.value.length===1&&a.value.push(Fe(c.value.partialRange))},X=()=>{const u=a.value;return[y(u[0]),u[1]?y(u[1]):Fe(c.value.partialRange)]},O=()=>a.value[1]?X():y(ve(a.value[0])),G=()=>(a.value||[]).map(u=>y(u)),le=(u=!1)=>(u||T(),n.modelAuto?O():v.value.enabled?G():Array.isArray(a.value)?ft(()=>X(),c.value.enabled):y(ve(a.value))),ie=u=>!u||Array.isArray(u)&&!u.length?null:n.timePicker?$(ve(u)):n.monthPicker?q(ve(u)):n.yearPicker?m(ve(u)):v.value.enabled?F(ve(u)):n.weekPicker?ne(ve(u)):J(ve(u)),h=u=>{const ee=ie(u);Ot(ve(ee))?(a.value=ve(ee),Q()):(a.value=null,z.value="")},L=()=>{const u=ee=>s.format(ee,r.value.format);return`${u(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?u(a.value[1]):""}`},Z=()=>l.value&&a.value?Array.isArray(a.value)?L():s.format(a.value,r.value.format):H(a.value),k=()=>a.value?v.value.enabled?a.value.map(u=>H(u)).join("; "):r.value.enabled&&typeof r.value.format=="string"?Z():H(a.value):"",Q=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?z.value=k():z.value=n.format(a.value)},C=u=>{if(n.utc){const ee=new Date(u);return n.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return n.modelType?_n.includes(n.modelType)?b(new Date(u)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?b(s.parse(u,f(),new Date,{locale:N.value})):b(s.parse(u,n.modelType,new Date,{locale:N.value})):b(new Date(u))},y=u=>u?n.utc?qn(u,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+P(u):n.modelType==="iso"?P(u).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?H(P(u)):H(P(u),n.modelType,!0):P(u):"",ae=(u,ee=!1,ue=!1)=>{if(ue)return u;if(t("update:model-value",u),d.value.emitTimezone&&ee){const B=Array.isArray(u)?u.map(ce=>$e(ve(ce),d.value.emitTimezone)):$e(ve(u),d.value.emitTimezone);t("update:model-timezone-value",B)}},Y=u=>Array.isArray(a.value)?v.value.enabled?a.value.map(ee=>u(ee)):[u(a.value[0]),a.value[1]?u(a.value[1]):Fe(c.value.partialRange)]:u(ve(a.value)),D=()=>{if(Array.isArray(a.value)){const u=Ve(a.value[0],n.weekStart),ee=a.value[1]?Ve(a.value[1],n.weekStart):[];return[u.map(ue=>x(ue)),ee.map(ue=>x(ue))]}return Ve(a.value,n.weekStart).map(u=>x(u))},W=(u,ee)=>ae(ve(Y(u)),!1,ee),i=u=>{const ee=D();return u?ee:t("update:model-value",D())},S=(u=!1)=>(u||Q(),n.monthPicker?W(U,u):n.timePicker?W(_,u):n.yearPicker?W(s.getYear,u):n.weekPicker?i(u):ae(le(u),!0,u));return{inputValue:z,internalModelValue:a,checkBeforeEmit:()=>a.value?c.value.enabled?c.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:h,formatInputValue:Q,emitModelValue:S}},ha=(t,n)=>{const{defaultedFilters:l,propDates:a}=ye(t),{validateMonthYearInRange:r}=We(t),c=(p,N)=>{let b=p;return l.value.months.includes(s.getMonth(b))?(b=N?s.addMonths(p,1):s.subMonths(p,1),c(b,N)):b},d=(p,N)=>{let b=p;return l.value.years.includes(s.getYear(b))?(b=N?s.addYears(p,1):s.subYears(p,1),d(b,N)):b},v=(p,N=!1)=>{const b=s.set(x(),{month:t.month,year:t.year});let P=p?s.addMonths(b,1):s.subMonths(b,1);t.disableYearSelect&&(P=s.setYear(P,t.year));let H=s.getMonth(P),_=s.getYear(P);l.value.months.includes(H)&&(P=c(P,p),H=s.getMonth(P),_=s.getYear(P)),l.value.years.includes(_)&&(P=d(P,p),_=s.getYear(P)),r(H,_,p,t.preventMinMaxNavigation)&&f(H,_,N)},f=(p,N,b)=>{n("update-month-year",{month:p,year:N,fromNav:b})},z=e.computed(()=>p=>kn(s.set(x(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,p));return{handleMonthYearChange:v,isDisabled:z,updateMonthYear:f}},pt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Oe={...pt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},ka=["title"],ba=["disabled"],va=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Oe},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:c,defaultedMultiCalendars:d,defaultedTextInput:v,defaultedInline:f,defaultedRange:z,defaultedMultiDates:p}=ye(a),{isTimeValid:N,isMonthValid:b}=We(a),{buildMatrix:P}=He(),H=e.ref(null),_=e.ref(null),U=e.ref(!1),m=e.ref({}),E=e.ref(null),$=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&P([we(H),we(_)],"actionRow"),q(),window.addEventListener("resize",q)}),e.onUnmounted(()=>{window.removeEventListener("resize",q)});const q=()=>{U.value=!1,setTimeout(()=>{var Z,k;const h=(Z=E.value)==null?void 0:Z.getBoundingClientRect(),L=(k=$.value)==null?void 0:k.getBoundingClientRect();h&&L&&(m.value.maxWidth=`${L.width-h.width-20}px`),U.value=!0},0)},F=e.computed(()=>z.value.enabled&&!z.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),ne=e.computed(()=>!N.value(a.internalModelValue)||!b.value(a.internalModelValue)||!F.value),J=()=>{const h=c.value;return a.timePicker||a.monthPicker,h(ve(a.internalModelValue))},T=()=>{const h=a.internalModelValue;return d.value.count>0?`${X(h[0])} - ${X(h[1])}`:[X(h[0]),X(h[1])]},X=h=>bn(h,c.value,a.formatLocale,v.value.rangeSeparator,a.modelAuto,c.value),O=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof c.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?T():p.value.enabled?a.internalModelValue.map(h=>`${X(h)}`):a.modelAuto?`${X(a.internalModelValue[0])}`:`${X(a.internalModelValue[0])} -`:X(a.internalModelValue):J()),G=()=>p.value.enabled?"; ":" - ",le=e.computed(()=>Array.isArray(O.value)?O.value.join(G()):O.value),ie=()=>{N.value(a.internalModelValue)&&b.value(a.internalModelValue)&&F.value?l("select-date"):l("invalid-select")};return(h,L)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:$,class:"dp__action_row"},[h.$slots["action-row"]?e.renderSlot(h.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:h.internalModelValue,disabled:ne.value,selectDate:()=>h.$emit("select-date"),closePicker:()=>h.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:le.value,style:e.normalizeStyle(m.value)},[h.$slots["action-preview"]&&U.value?e.renderSlot(h.$slots,"action-preview",{key:0,value:h.internalModelValue}):e.createCommentVNode("",!0),!h.$slots["action-preview"]&&U.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(le.value),1)],64)):e.createCommentVNode("",!0)],12,ka)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:E,class:"dp__action_buttons","data-dp-element":"action-row"},[h.$slots["action-buttons"]?e.renderSlot(h.$slots,"action-buttons",{key:0,value:h.internalModelValue}):e.createCommentVNode("",!0),h.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(f).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:H,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=Z=>h.$emit("close-picker")),onKeydown:L[1]||(L[1]=Z=>e.unref(Ce)(Z,()=>h.$emit("close-picker")))},e.toDisplayString(h.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[2]||(L[2]=Z=>h.$emit("select-now")),onKeydown:L[3]||(L[3]=Z=>e.unref(Ce)(Z,()=>h.$emit("select-now")))},e.toDisplayString(h.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_select",disabled:ne.value,"data-test":"select-button",onKeydown:L[4]||(L[4]=Z=>e.unref(Ce)(Z,()=>ie())),onClick:ie},e.toDisplayString(h.selectText),41,ba)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),wa=["role","aria-label","tabindex"],Ma={class:"dp__selection_grid_header"},Da=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Sa=["aria-label"],at=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:c}=He(),d=l,v=t,{defaultedAriaLabels:f,defaultedTextInput:z,defaultedConfig:p}=ye(v),{hideNavigationButtons:N}=ht(),b=e.ref(!1),P=e.ref(null),H=e.ref(null),_=e.ref([]),U=e.ref(),m=e.ref(null),E=e.ref(0),$=e.ref(null);e.onBeforeUpdate(()=>{P.value=null}),e.onMounted(()=>{e.nextTick().then(()=>G()),v.noOverlayFocus||F(),q(!0)}),e.onUnmounted(()=>q(!1));const q=Y=>{var D;v.arrowNavigation&&((D=v.headerRefs)!=null&&D.length?c(Y):a(Y))},F=()=>{var D;const Y=we(H);Y&&(z.value.enabled||(P.value?(D=P.value)==null||D.focus({preventScroll:!0}):Y.focus({preventScroll:!0})),b.value=Y.clientHeight<Y.scrollHeight)},ne=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!v.useRelative,"dp--overlay-relative":v.useRelative})),J=e.computed(()=>v.useRelative?{height:`${v.height}px`,width:"var(--dp-menu-min-width)"}:void 0),T=e.computed(()=>({dp__overlay_col:!0})),X=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:b.value,dp__button_bottom:v.isLast})),O=e.computed(()=>{var Y,D;return{dp__overlay_container:!0,dp__container_flex:((Y=v.items)==null?void 0:Y.length)<=6,dp__container_block:((D=v.items)==null?void 0:D.length)>6}});e.watch(()=>v.items,()=>G(!1),{deep:!0});const G=(Y=!0)=>{e.nextTick().then(()=>{const D=we(P),W=we(H),i=we(m),S=we($),I=i?i.getBoundingClientRect().height:0;W&&(W.getBoundingClientRect().height?E.value=W.getBoundingClientRect().height-I:E.value=p.value.modeHeight-I),D&&S&&Y&&(S.scrollTop=D.offsetTop-S.offsetTop-(E.value/2-D.getBoundingClientRect().height)-I)})},le=Y=>{Y.disabled||d("selected",Y.value)},ie=()=>{d("toggle"),d("reset-flow")},h=()=>{v.escClose&&ie()},L=(Y,D,W,i)=>{Y&&((D.active||D.value===v.focusValue)&&(P.value=Y),v.arrowNavigation&&(Array.isArray(_.value[W])?_.value[W][i]=Y:_.value[W]=[Y],Z()))},Z=()=>{var D,W;const Y=(D=v.headerRefs)!=null&&D.length?[v.headerRefs].concat(_.value):_.value.concat([v.skipButtonRef?[]:[m.value]]);r(ve(Y),(W=v.headerRefs)!=null&&W.length?"monthPicker":"selectionGrid")},k=Y=>{v.arrowNavigation||Ie(Y,p.value,!0)},Q=Y=>{U.value=Y,d("hover-value",Y)},C=()=>{if(ie(),!v.isLast){const Y=Pt(v.menuWrapRef??null,"action-row");if(Y){const D=cn(Y);D==null||D.focus()}}},y=Y=>{switch(Y.key){case pe.esc:return h();case pe.arrowLeft:return k(Y);case pe.arrowRight:return k(Y);case pe.arrowUp:return k(Y);case pe.arrowDown:return k(Y);default:return}},ae=Y=>{if(Y.key===pe.enter)return ie();if(Y.key===pe.tab)return C()};return n({focusGrid:F}),(Y,D)=>{var W;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:H,class:e.normalizeClass(ne.value),style:e.normalizeStyle(J.value),role:Y.useRelative?void 0:"dialog","aria-label":Y.overlayLabel,tabindex:Y.useRelative?void 0:"0",onKeydown:y,onClick:D[0]||(D[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:$,class:e.normalizeClass(O.value),style:e.normalizeStyle({"--dp-overlay-height":`${E.value}px`}),role:"grid"},[e.createElementVNode("div",Ma,[e.renderSlot(Y.$slots,"header")]),Y.$slots.overlay?e.renderSlot(Y.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(Y.items,(i,S)=>(e.openBlock(),e.createElementBlock("div",{key:S,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:Y.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i,(I,u)=>(e.openBlock(),e.createElementBlock("div",{key:I.value,ref_for:!0,ref:ee=>L(ee,I,S,u),role:"gridcell",class:e.normalizeClass(T.value),"aria-selected":I.active||void 0,"aria-disabled":I.disabled||void 0,tabindex:"0","data-test":I.text,onClick:e.withModifiers(ee=>le(I),["prevent"]),onKeydown:ee=>e.unref(Ce)(ee,()=>le(I),!0),onMouseover:ee=>Q(I.value)},[e.createElementVNode("div",{class:e.normalizeClass(I.className)},[Y.$slots.item?e.renderSlot(Y.$slots,"item",{key:0,item:I}):e.createCommentVNode("",!0),Y.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(I.text),1)],64))],2)],42,Da))),128))],2))),128))],6),Y.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:m,type:"button","aria-label":(W=e.unref(f))==null?void 0:W.toggleOverlay,class:e.normalizeClass(X.value),tabindex:"0",onClick:ie,onKeydown:ae},[e.renderSlot(Y.$slots,"button-icon")],42,Sa)),[[e.vShow,!e.unref(N)(Y.hideNavigation,Y.type)]]):e.createCommentVNode("",!0)],46,wa)}}}),gt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(d,v)=>(e.openBlock(),e.createElementBlock("div",{key:d,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:d,index:v})],2))),128))],2))}}),Ba=["data-dp-element","aria-label","aria-disabled"],rt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,a=e.ref(null);return e.onMounted(()=>l("set-ref",a)),(r,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:c[0]||(c[0]=d=>r.$emit("activate")),onKeydown:c[1]||(c[1]=d=>e.unref(Ce)(d,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Ba))}}),Ca=["aria-label","data-test"],Cn=e.defineComponent({__name:"YearModePicker",props:{...Oe,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,a=t,{showRightIcon:r,showLeftIcon:c}=ht(),{defaultedConfig:d,defaultedMultiCalendars:v,defaultedAriaLabels:f,defaultedTransitions:z,defaultedUI:p}=ye(a),{showTransition:N,transitionName:b}=lt(z),P=e.ref(!1),H=(m=!1,E)=>{P.value=!P.value,l("toggle-year-picker",{flow:m,show:E})},_=m=>{P.value=!1,l("year-select",m)},U=(m=!1)=>{l("handle-year",m)};return(m,E)=>{var $,q,F,ne,J;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":P.value}])},[e.unref(c)(e.unref(v),t.instance)?(e.openBlock(),e.createBlock(rt,{key:0,ref:"mpPrevIconRef","aria-label":($=e.unref(f))==null?void 0:$.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((q=e.unref(p))==null?void 0:q.navBtnPrev),onActivate:E[0]||(E[0]=T=>U(!1))},{default:e.withCtx(()=>[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(F=e.unref(f))==null?void 0:F.openYearsOverlay}`,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>H(!1)),onKeydown:E[2]||(E[2]=e.withKeys(()=>H(!1),["enter"]))},[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ca),e.unref(r)(e.unref(v),t.instance)?(e.openBlock(),e.createBlock(rt,{key:1,ref:"mpNextIconRef","aria-label":(ne=e.unref(f))==null?void 0:ne.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((J=e.unref(p))==null?void 0:J.navBtnNext),onActivate:E[3]||(E[3]=T=>U(!0))},{default:e.withCtx(()=>[m.$slots["arrow-right"]?e.renderSlot(m.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(b)(t.showYearPicker),css:e.unref(N)},{default:e.withCtx(()=>{var T,X;return[t.showYearPicker?(e.openBlock(),e.createBlock(at,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!e.unref(d).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,"overlay-label":(X=(T=e.unref(f))==null?void 0:T.yearPicker)==null?void 0:X.call(T,!0),type:"year",onToggle:H,onSelected:E[4]||(E[4]=O=>_(O))},e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:O})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),jt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>fe(t,a))){const a=n.value.filter(r=>!fe(r,t));n.value=a.length?a:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Kt=(t,n,l)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?he(n,a[0])?(a.unshift(n),l("range-start",a[0]),l("range-start",a[1])):(a[1]=n,l("range-end",n)):(a=[n],l("range-start",n)),a},yt=(t,n,l,a)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&a&&l&&n("auto-apply"))},Tn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>$e(x(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=$e(x(t.value),t.timezone))},$n=(t,n,l,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ke(t,n.value[0])||fe(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(he(t,n.value[1])||fe(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],An=({multiCalendars:t,range:n,highlight:l,propDates:a,calendars:r,modelValue:c,props:d,filters:v,year:f,month:z,emit:p})=>{const N=e.computed(()=>$t(d.yearRange,d.locale,d.reverseYears)),b=e.ref([!1]),P=e.computed(()=>(O,G)=>{const le=s.set(Ee(new Date),{month:z.value(O),year:f.value(O)}),ie=G?s.endOfYear(le):s.startOfYear(le);return kn(ie,a.value.maxDate,a.value.minDate,d.preventMinMaxNavigation,G)}),H=()=>Array.isArray(c.value)&&t.value.solo&&c.value[1],_=()=>{for(let O=0;O<t.value.count;O++)if(O===0)r.value[O]=r.value[0];else if(O===t.value.count-1&&H())r.value[O]={month:s.getMonth(c.value[1]),year:s.getYear(c.value[1])};else{const G=s.set(x(),r.value[O-1]);r.value[O]={month:s.getMonth(G),year:s.getYear(s.addYears(G,1))}}},U=O=>{if(!O)return _();const G=s.set(x(),r.value[O]);return r.value[0].year=s.getYear(s.subYears(G,t.value.count-1)),_()},m=(O,G)=>{const le=s.differenceInYears(G,O);return n.value.showLastInRange&&le>1?G:O},E=O=>d.focusStartDate||t.value.solo?O[0]:O[1]?m(O[0],O[1]):O[0],$=()=>{if(c.value){const O=Array.isArray(c.value)?E(c.value):c.value;r.value[0]={month:s.getMonth(O),year:s.getYear(O)}}},q=()=>{$(),t.value.count&&_()};e.watch(c,(O,G)=>{d.isTextInputDate&&JSON.stringify(O??{})!==JSON.stringify(G??{})&&q()}),e.onMounted(()=>{q()});const F=(O,G)=>{r.value[G].year=O,p("update-month-year",{instance:G,year:O,month:r.value[G].month}),t.value.count&&!t.value.solo&&U(G)},ne=e.computed(()=>O=>Je(N.value,G=>{var L;const le=f.value(O)===G.value,ie=tt(G.value,Ze(a.value.minDate),Ze(a.value.maxDate))||((L=v.value.years)==null?void 0:L.includes(f.value(O))),h=It(l.value,G.value);return{active:le,disabled:ie,highlighted:h}})),J=(O,G)=>{F(O,G),X(G)},T=(O,G=!1)=>{if(!P.value(O,G)){const le=G?f.value(O)+1:f.value(O)-1;F(le,O)}},X=(O,G=!1,le)=>{G||p("reset-flow"),le!==void 0?b.value[O]=le:b.value[O]=!b.value[O],b.value[O]?p("overlay-toggle",{open:!0,overlay:De.year}):(p("overlay-closed"),p("overlay-toggle",{open:!1,overlay:De.year}))};return{isDisabled:P,groupedYears:ne,showYearPicker:b,selectYear:F,toggleYearPicker:X,handleYearSelect:J,handleYear:T}},Ta=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,defaultedRange:d,defaultedHighlight:v,propDates:f,defaultedTz:z,defaultedFilters:p,defaultedMultiDates:N}=ye(t),b=()=>{t.isTextInputDate&&q(s.getYear(x(t.startDate)),0)},{modelValue:P,year:H,month:_,calendars:U}=ot(t,n,b),m=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),E=e.ref(null),{checkMinMaxRange:$}=We(t),{selectYear:q,groupedYears:F,showYearPicker:ne,toggleYearPicker:J,handleYearSelect:T,handleYear:X,isDisabled:O}=An({modelValue:P,multiCalendars:l,range:d,highlight:v,calendars:U,year:H,propDates:f,month:_,filters:p,props:t,emit:n});e.onMounted(()=>{t.startDate&&(P.value&&t.focusStartDate||!P.value)&&q(s.getYear(x(t.startDate)),0)});const G=S=>S?{month:s.getMonth(S),year:s.getYear(S)}:{month:null,year:null},le=()=>P.value?Array.isArray(P.value)?P.value.map(S=>G(S)):G(P.value):G(),ie=(S,I)=>{const u=U.value[S],ee=le();return Array.isArray(ee)?ee.some(ue=>ue.year===(u==null?void 0:u.year)&&ue.month===I):(u==null?void 0:u.year)===ee.year&&I===ee.month},h=(S,I,u)=>{var ue,B;const ee=le();return Array.isArray(ee)?H.value(I)===((ue=ee[u])==null?void 0:ue.year)&&S===((B=ee[u])==null?void 0:B.month):!1},L=(S,I)=>{if(d.value.enabled){const u=le();if(Array.isArray(P.value)&&Array.isArray(u)){const ee=h(S,I,0)||h(S,I,1),ue=_e(Ee(x()),S,H.value(I));return dt(P.value,E.value,ue)&&!ee}return!1}return!1},Z=e.computed(()=>S=>Je(m.value,I=>{var ce;const u=ie(S,I.value),ee=tt(I.value,pn(H.value(S),f.value.minDate),gn(H.value(S),f.value.maxDate))||Zn(f.value.disabledDates,H.value(S)).includes(I.value)||((ce=p.value.months)==null?void 0:ce.includes(I.value)),ue=L(I.value,S),B=wn(v.value,I.value,H.value(S));return{active:u,disabled:ee,isBetween:ue,highlighted:B}})),k=(S,I)=>_e(Ee(x()),S,H.value(I)),Q=(S,I)=>{const u=P.value?P.value:Ee(new Date);P.value=_e(u,S,H.value(I)),n("auto-apply"),n("update-flow-step")},C=(S,I)=>{const u=k(S,I);d.value.fixedEnd||d.value.fixedStart?P.value=$n(u,P,n,d):P.value?$(u,P.value)&&(P.value=Kt(P,k(S,I),n)):P.value=[k(S,I)],e.nextTick().then(()=>{yt(P.value,n,t.autoApply,t.modelAuto)})},y=(S,I)=>{jt(k(S,I),P,N.value.limit),n("auto-apply",!0)},ae=(S,I)=>(U.value[I].month=S,D(I,U.value[I].year,S),N.value.enabled?y(S,I):d.value.enabled?C(S,I):Q(S,I)),Y=(S,I)=>{q(S,I),D(I,S,null)},D=(S,I,u)=>{let ee=u;if(!ee&&ee!==0){const ue=le();ee=Array.isArray(ue)?ue[S].month:ue.month}n("update-month-year",{instance:S,year:I,month:ee})};return{groupedMonths:Z,groupedYears:F,year:H,isDisabled:O,defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,showYearPicker:ne,modelValue:P,presetDate:(S,I)=>{Tn({value:S,modelValue:P,range:d.value.enabled,timezone:I?void 0:z.value.timezone}),n("auto-apply")},setHoverDate:(S,I)=>{E.value=k(S,I)},selectMonth:ae,selectYear:Y,toggleYearPicker:J,handleYearSelect:T,handleYear:X,getModelMonthYear:le}},$a=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Oe},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=e.useSlots(),c=Ae(r,"yearMode"),d=t;e.onMounted(()=>{d.shadow||a("mount",null)});const{groupedMonths:v,groupedYears:f,year:z,isDisabled:p,defaultedMultiCalendars:N,defaultedConfig:b,showYearPicker:P,modelValue:H,presetDate:_,setHoverDate:U,selectMonth:m,selectYear:E,toggleYearPicker:$,handleYearSelect:q,handleYear:F,getModelMonthYear:ne}=Ta(d,a);return n({getSidebarProps:()=>({modelValue:H,year:z,getModelMonthYear:ne,selectMonth:m,selectYear:E,handleYear:F}),presetDate:_,toggleYearPicker:T=>$(0,T)}),(T,X)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(N).count,collapse:T.collapse,stretch:""},{default:e.withCtx(({instance:O})=>[T.$slots["top-extra"]?e.renderSlot(T.$slots,"top-extra",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),T.$slots["month-year"]?e.renderSlot(T.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(z),months:e.unref(v)(O),years:e.unref(f)(O),selectMonth:e.unref(m),selectYear:e.unref(E),instance:O}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(v)(O),"arrow-navigation":T.arrowNavigation,"is-last":T.autoApply&&!e.unref(b).keepActionRow,"esc-close":T.escClose,height:e.unref(b).modeHeight,config:T.config,"no-overlay-focus":!!(T.noOverlayFocus||T.textInput),"use-relative":"",type:"month",onSelected:G=>e.unref(m)(G,O),onHoverValue:G=>e.unref(U)(G,O)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Cn,e.mergeProps(T.$props,{items:e.unref(f)(O),instance:O,"show-year-picker":e.unref(P)[O],year:e.unref(z)(O),"is-disabled":G=>e.unref(p)(O,G),onHandleYear:G=>e.unref(F)(O,G),onYearSelect:G=>e.unref(q)(G,O),onToggleYearPicker:G=>e.unref($)(O,G==null?void 0:G.flow,G==null?void 0:G.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(G,le)=>({name:G,fn:e.withCtx(ie=>[e.renderSlot(T.$slots,G,e.normalizeProps(e.guardReactiveProps(ie)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[T.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot(T.$slots,"month-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Aa=(t,n)=>{const l=()=>{t.isTextInputDate&&(p.value=s.getYear(x(t.startDate)))},{modelValue:a}=ot(t,n,l),r=e.ref(null),{defaultedHighlight:c,defaultedMultiDates:d,defaultedFilters:v,defaultedRange:f,propDates:z}=ye(t),p=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(p.value=s.getYear(x(t.startDate)))});const N=m=>Array.isArray(a.value)?a.value.some(E=>s.getYear(E)===m):a.value?s.getYear(a.value)===m:!1,b=m=>f.value.enabled&&Array.isArray(a.value)?dt(a.value,r.value,H(m)):!1,P=e.computed(()=>Je($t(t.yearRange,t.locale,t.reverseYears),m=>{const E=N(m.value),$=tt(m.value,Ze(z.value.minDate),Ze(z.value.maxDate))||v.value.years.includes(m.value),q=b(m.value)&&!E,F=It(c.value,m.value);return{active:E,disabled:$,isBetween:q,highlighted:F}})),H=m=>s.setYear(Ee(s.startOfYear(new Date)),m);return{groupedYears:P,modelValue:a,focusYear:p,setHoverValue:m=>{r.value=s.setYear(Ee(new Date),m)},selectYear:m=>{var E;if(n("update-month-year",{instance:0,year:m}),d.value.enabled)return a.value?Array.isArray(a.value)&&(((E=a.value)==null?void 0:E.map(q=>s.getYear(q))).includes(m)?a.value=a.value.filter(q=>s.getYear(q)!==m):a.value.push(s.setYear(Te(x()),m))):a.value=[s.setYear(Te(s.startOfYear(x())),m)],n("auto-apply",!0);f.value.enabled?(a.value=Kt(a,H(m),n),e.nextTick().then(()=>{yt(a.value,n,t.autoApply,t.modelAuto)})):(a.value=H(m),n("auto-apply"))}}},Pa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,{groupedYears:c,modelValue:d,focusYear:v,selectYear:f,setHoverValue:z}=Aa(r,a),{defaultedConfig:p}=ye(r);return n({getSidebarProps:()=>({modelValue:d,selectYear:f})}),(b,P)=>(e.openBlock(),e.createElementBlock("div",null,[b.$slots["top-extra"]?e.renderSlot(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),b.$slots["month-year"]?e.renderSlot(b.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(c),selectYear:e.unref(f)}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(c),"is-last":b.autoApply&&!e.unref(p).keepActionRow,height:e.unref(p).modeHeight,config:b.config,"no-overlay-focus":!!(b.noOverlayFocus||b.textInput),"focus-value":e.unref(v),type:"year","use-relative":"",onSelected:e.unref(f),onHoverValue:e.unref(z)},e.createSlots({_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:H})=>[e.renderSlot(b.$slots,"year-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ra={key:0,class:"dp__time_input"},Na=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ea=["aria-label","disabled","data-test","onKeydown","onClick"],Oa=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ya={key:0},Va=["aria-label"],_a=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{setTimePickerElements:c,setTimePickerBackRef:d}=He(),{defaultedAriaLabels:v,defaultedTransitions:f,defaultedFilters:z,defaultedConfig:p,defaultedRange:N}=ye(r),{transitionName:b,showTransition:P}=lt(f),H=e.reactive({hours:!1,minutes:!1,seconds:!1}),_=e.ref("AM"),U=e.ref(null),m=e.ref([]),E=e.ref(),$=e.ref(!1);e.onMounted(()=>{a("mounted")});const q=o=>s.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:r.enableSeconds?o.seconds:0,milliseconds:0}),F=e.computed(()=>o=>k(o,r[o])||J(o,r[o])),ne=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),J=(o,A)=>N.value.enabled&&!N.value.disableTimeRangeValidation?!r.validateTime(o,A):!1,T=(o,A)=>{if(N.value.enabled&&!N.value.disableTimeRangeValidation){const R=A?+r[`${o}Increment`]:-+r[`${o}Increment`],j=r[o]+R;return!r.validateTime(o,j)}return!1},X=e.computed(()=>o=>!Y(+r[o]+ +r[`${o}Increment`],o)||T(o,!0)),O=e.computed(()=>o=>!Y(+r[o]-+r[`${o}Increment`],o)||T(o,!1)),G=(o,A)=>s.add(s.set(x(),o),A),le=(o,A)=>s.sub(s.set(x(),o),A),ie=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),h=e.computed(()=>{const o=[{type:"hours"}];return r.enableMinutes&&o.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&o.push({type:"",separator:!0},{type:"seconds"}),o}),L=e.computed(()=>h.value.filter(o=>!o.separator)),Z=e.computed(()=>o=>{if(o==="hours"){const A=u(+r.hours);return{text:A<10?`0${A}`:`${A}`,value:A}}return{text:r[o]<10?`0${r[o]}`:`${r[o]}`,value:r[o]}}),k=(o,A)=>{var j;if(!r.disabledTimesConfig)return!1;const R=r.disabledTimesConfig(r.order,o==="hours"?A:void 0);return R[o]?!!((j=R[o])!=null&&j.includes(A)):!0},Q=(o,A)=>A!=="hours"||_.value==="AM"?o:o+12,C=o=>{const A=r.is24?24:12,R=o==="hours"?A:60,j=+r[`${o}GridIncrement`],re=o==="hours"&&!r.is24?j:0,M=[];for(let V=re;V<R;V+=j)M.push({value:r.is24?V:Q(V,o),text:V<10?`0${V}`:`${V}`});return o==="hours"&&!r.is24&&M.unshift({value:_.value==="PM"?12:0,text:"12"}),Je(M,V=>({active:!1,disabled:z.value.times[o].includes(V.value)||!Y(V.value,o)||k(o,V.value)||J(o,V.value)}))},y=o=>o>=0?o:59,ae=o=>o>=0?o:23,Y=(o,A)=>{const R=r.minTime?q(Et(r.minTime)):null,j=r.maxTime?q(Et(r.maxTime)):null,re=q(Et(ne.value,A,A==="minutes"||A==="seconds"?y(o):ae(o)));return R&&j?(s.isBefore(re,j)||s.isEqual(re,j))&&(s.isAfter(re,R)||s.isEqual(re,R)):R?s.isAfter(re,R)||s.isEqual(re,R):j?s.isBefore(re,j)||s.isEqual(re,j):!0},D=o=>r[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],W=o=>{D(o)||(H[o]=!H[o],H[o]?($.value=!0,a("overlay-opened",o)):($.value=!1,a("overlay-closed",o)))},i=o=>o==="hours"?s.getHours:o==="minutes"?s.getMinutes:s.getSeconds,S=()=>{E.value&&clearTimeout(E.value)},I=(o,A=!0,R)=>{const j=A?G:le,re=A?+r[`${o}Increment`]:-+r[`${o}Increment`];Y(+r[o]+re,o)&&a(`update:${o}`,i(o)(j({[o]:+r[o]},{[o]:+r[`${o}Increment`]}))),!(R!=null&&R.keyboard)&&p.value.timeArrowHoldThreshold&&(E.value=setTimeout(()=>{I(o,A)},p.value.timeArrowHoldThreshold))},u=o=>r.is24?o:(o>=12?_.value="PM":_.value="AM",Ln(o)),ee=()=>{_.value==="PM"?(_.value="AM",a("update:hours",r.hours-12)):(_.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",_.value)},ue=o=>{H[o]=!0},B=(o,A,R)=>{if(o&&r.arrowNavigation){Array.isArray(m.value[A])?m.value[A][R]=o:m.value[A]=[o];const j=m.value.reduce((re,M)=>M.map((V,oe)=>[...re[oe]||[],M[oe]]),[]);d(r.closeTimePickerBtn),U.value&&(j[1]=j[1].concat(U.value)),c(j,r.order)}},ce=(o,A)=>(W(o),a(`update:${o}`,A));return n({openChildCmp:ue}),(o,A)=>{var R;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ra,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(j,re)=>{var M,V,oe;return e.openBlock(),e.createElementBlock("div",{key:re,class:e.normalizeClass(ie.value)},[j.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[$.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,re,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:X.value(j.type),"dp--hidden-el":$.value}),"data-test":`${j.type}-time-inc-btn-${r.order}`,"aria-label":(M=e.unref(v))==null?void 0:M.incrementValue(j.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>I(j.type,!0,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:I(j.type,!0),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?I(j.type,!0):void 0,onMouseup:S},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-up"]?e.renderSlot(o.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[A[2]||(A[2]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),A[3]||(A[3]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Na),e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,re,1),type:"button","aria-label":`${Z.value(j.type).text}-${(V=e.unref(v))==null?void 0:V.openTpOverlay(j.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":F.value(j.type),"dp--time-overlay-btn":!F.value(j.type),"dp--hidden-el":$.value}),disabled:D(j.type),tabindex:"0","data-test":`${j.type}-toggle-overlay-btn-${r.order}`,onKeydown:de=>e.unref(Ce)(de,()=>W(j.type),!0),onClick:de=>W(j.type)},[o.$slots[j.type]?e.renderSlot(o.$slots,j.type,{key:0,text:Z.value(j.type).text,value:Z.value(j.type).value}):e.createCommentVNode("",!0),o.$slots[j.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Z.value(j.type).text),1)],64))],42,Ea),e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,re,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:O.value(j.type),"dp--hidden-el":$.value}),"data-test":`${j.type}-time-dec-btn-${r.order}`,"aria-label":(oe=e.unref(v))==null?void 0:oe.decrementValue(j.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>I(j.type,!1,{keyboard:!0}),!0),onClick:de=>e.unref(p).timeArrowHoldThreshold?void 0:I(j.type,!1),onMousedown:de=>e.unref(p).timeArrowHoldThreshold?I(j.type,!1):void 0,onMouseup:S},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-down"]?e.renderSlot(o.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[A[4]||(A[4]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),A[5]||(A[5]=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],64))],42,Oa)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ya,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:ee,value:_.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:U,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(R=e.unref(v))==null?void 0:R.amPmButton,tabindex:"0",onClick:ee,onKeydown:A[0]||(A[0]=j=>e.unref(Ce)(j,()=>ee(),!0))},e.toDisplayString(_.value),41,Va))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(L.value,(j,re)=>(e.openBlock(),e.createBlock(e.Transition,{key:re,name:e.unref(b)(H[j.type]),css:e.unref(P)},{default:e.withCtx(()=>{var M,V;return[H[j.type]?(e.openBlock(),e.createBlock(at,{key:0,items:C(j.type),"is-last":o.autoApply&&!e.unref(p).keepActionRow,"esc-close":o.escClose,type:j.type,"text-input":o.textInput,config:o.config,"arrow-navigation":o.arrowNavigation,"aria-labels":o.ariaLabels,"overlay-label":(V=(M=e.unref(v)).timeOverlay)==null?void 0:V.call(M,j.type),onSelected:oe=>ce(j.type,oe),onToggle:oe=>W(j.type),onResetFlow:A[1]||(A[1]=oe=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.timePickerInline?e.unref(Xe):e.unref(Dt)),{key:1}))]),_:2},[o.$slots[`${j.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:oe})=>[e.renderSlot(o.$slots,`${j.type}-overlay-value`,{text:oe.text,value:oe.value})]),key:"0"}:void 0,o.$slots[`${j.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(o.$slots,`${j.type}-overlay-header`,{toggle:()=>W(j.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Ia={class:"dp--tp-wrap"},za=["aria-label","tabindex"],La=["role","aria-label","tabindex"],Ha=["aria-label"],Pn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMatrix:c,setTimePicker:d}=He(),v=e.useSlots(),{defaultedTransitions:f,defaultedAriaLabels:z,defaultedTextInput:p,defaultedConfig:N,defaultedRange:b}=ye(r),{transitionName:P,showTransition:H}=lt(f),{hideNavigationButtons:_}=ht(),U=e.ref(null),m=e.ref(null),E=e.ref([]),$=e.ref(null),q=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?c([we(U.value)],"time"):d(!0,r.timePicker)});const F=e.computed(()=>b.value.enabled&&r.modelAuto?on(r.internalModelValue):!0),ne=e.ref(!1),J=C=>({hours:Array.isArray(r.hours)?r.hours[C]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[C]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[C]:r.seconds}),T=e.computed(()=>{const C=[];if(b.value.enabled)for(let y=0;y<2;y++)C.push(J(y));else C.push(J(0));return C}),X=(C,y=!1,ae="")=>{y||a("reset-flow"),ne.value=C,a(C?"overlay-opened":"overlay-closed",De.time),r.arrowNavigation&&d(C),e.nextTick(()=>{ae!==""&&E.value[0]&&E.value[0].openChildCmp(ae)})},O=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!N.value.keepActionRow})),G=Ae(v,"timePicker"),le=(C,y,ae)=>b.value.enabled?y===0?[C,T.value[1][ae]]:[T.value[0][ae],C]:C,ie=C=>{a("update:hours",C)},h=C=>{a("update:minutes",C)},L=C=>{a("update:seconds",C)},Z=()=>{if($.value&&!p.value.enabled&&!r.noOverlayFocus){const C=cn($.value);C&&C.focus({preventScroll:!0})}},k=C=>{q.value=!1,a("overlay-closed",C)},Q=C=>{q.value=!0,a("overlay-opened",C)};return n({toggleTimePicker:X}),(C,y)=>{var ae;return e.openBlock(),e.createElementBlock("div",Ia,[!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:U,type:"button",class:e.normalizeClass({...O.value,"dp--hidden-el":ne.value}),"aria-label":(ae=e.unref(z))==null?void 0:ae.openTimePicker,tabindex:C.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:y[0]||(y[0]=Y=>e.unref(Ce)(Y,()=>X(!0))),onClick:y[1]||(y[1]=Y=>X(!0))},[C.$slots["clock-icon"]?e.renderSlot(C.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,za)),[[e.vShow,!e.unref(_)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(P)(ne.value),css:e.unref(H)&&!C.timePickerInline},{default:e.withCtx(()=>{var Y,D;return[ne.value||C.timePicker||C.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:$,role:C.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!C.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!C.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(C.timePicker?{height:`${e.unref(N).modeHeight}px`}:void 0),"aria-label":(Y=e.unref(z))==null?void 0:Y.timePicker,tabindex:C.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(C.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[C.$slots["time-picker-overlay"]?e.renderSlot(C.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:ie,setMinutes:h,setSeconds:L}):e.createCommentVNode("",!0),C.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(C.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(W,i)=>e.withDirectives((e.openBlock(),e.createBlock(_a,e.mergeProps({key:i,ref_for:!0},{...C.$props,order:i,hours:W.hours,minutes:W.minutes,seconds:W.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:t.disabledTimesConfig,disabled:i===0?e.unref(b).fixedStart:e.unref(b).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:E,"validate-time":(S,I)=>t.validateTime(S,le(I,i,S)),"onUpdate:hours":S=>ie(le(S,i,"hours")),"onUpdate:minutes":S=>h(le(S,i,"minutes")),"onUpdate:seconds":S=>L(le(S,i,"seconds")),onMounted:Z,onOverlayClosed:k,onOverlayOpened:Q,onAmPmChange:y[2]||(y[2]=S=>C.$emit("am-pm-change",S))}),e.createSlots({_:2},[e.renderList(e.unref(G),(S,I)=>({name:S,fn:e.withCtx(u=>[e.renderSlot(C.$slots,S,e.mergeProps({ref_for:!0},u))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,i===0?!0:F.value]])),128))],2)),!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:e.normalizeClass({...O.value,"dp--hidden-el":q.value}),"aria-label":(D=e.unref(z))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:y[3]||(y[3]=W=>e.unref(Ce)(W,()=>X(!1))),onClick:y[4]||(y[4]=W=>X(!1))},[C.$slots["calendar-icon"]?e.renderSlot(C.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))],42,Ha)),[[e.vShow,!e.unref(_)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,La)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Rn=(t,n,l,a)=>{const{defaultedRange:r}=ye(t),c=($,q)=>Array.isArray(n[$])?n[$][q]:n[$],d=$=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[$]:n.seconds:0,v=($,q)=>$?q!==void 0?ze($,c("hours",q),c("minutes",q),d(q)):ze($,n.hours,n.minutes,d()):s.setSeconds(x(),d(q)),f=($,q)=>{n[$]=q},z=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:r.value.enabled),p=($,q)=>{const F=Object.fromEntries(Object.keys(n).map(ne=>ne===$?[ne,q]:[ne,n[ne]].slice()));if(z.value&&!r.value.disableTimeRangeValidation){const ne=T=>l.value?ze(l.value[T],F.hours[T],F.minutes[T],F.seconds[T]):null,J=T=>s.setMilliseconds(l.value[T],0);return!(fe(ne(0),ne(1))&&(s.isAfter(ne(0),J(1))||s.isBefore(ne(1),J(0))))}return!0},N=($,q)=>{p($,q)&&(f($,q),a&&a())},b=$=>{N("hours",$)},P=$=>{N("minutes",$)},H=$=>{N("seconds",$)},_=($,q,F,ne)=>{q&&b($),!q&&!F&&P($),F&&H($),l.value&&ne(l.value)},U=$=>{if($){const q=Array.isArray($),F=q?[+$[0].hours,+$[1].hours]:+$.hours,ne=q?[+$[0].minutes,+$[1].minutes]:+$.minutes,J=q?[+$[0].seconds,+$[1].seconds]:+$.seconds;f("hours",F),f("minutes",ne),t.enableSeconds&&f("seconds",J)}},m=($,q)=>{const F={hours:Array.isArray(n.hours)?n.hours[$]:n.hours,disabledArr:[]};return(q||q===0)&&(F.hours=q),Array.isArray(t.disabledTimes)&&(F.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[$])?t.disabledTimes[$]:t.disabledTimes),F},E=e.computed(()=>($,q)=>{var F;if(Array.isArray(t.disabledTimes)){const{disabledArr:ne,hours:J}=m($,q),T=ne.filter(X=>+X.hours===J);return((F=T[0])==null?void 0:F.minutes)==="*"?{hours:[J],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(X=>+X.minutes))??[],seconds:(T==null?void 0:T.map(X=>X.seconds?+X.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:f,updateHours:b,updateMinutes:P,updateSeconds:H,getSetDateTime:v,updateTimeValues:_,getSecondsValue:d,assignStartTime:U,validateTime:p,disabledTimesConfig:E}},Ua=(t,n)=>{const l=()=>{t.isTextInputDate&&q()},{modelValue:a,time:r}=ot(t,n,l),{defaultedStartTime:c,defaultedRange:d,defaultedTz:v}=ye(t),{updateTimeValues:f,getSetDateTime:z,setTime:p,assignStartTime:N,disabledTimesConfig:b,validateTime:P}=Rn(t,r,a,H);function H(){n("update-flow-step")}const _=J=>{const{hours:T,minutes:X,seconds:O}=J;return{hours:+T,minutes:+X,seconds:O?+O:0}},U=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=_(t.startTime[0]),X=_(t.startTime[1]);return[s.set(x(),T),s.set(x(),X)]}const J=_(t.startTime);return s.set(x(),J)}return d.value.enabled?[null,null]:null},m=()=>{if(d.value.enabled){const[J,T]=U();a.value=[$e(z(J,0),v.value.timezone),$e(z(T,1),v.value.timezone)]}else a.value=$e(z(U()),v.value.timezone)},E=J=>Array.isArray(J)?[qe(x(J[0])),qe(x(J[1]))]:[qe(J??x())],$=(J,T,X)=>{p("hours",J),p("minutes",T),p("seconds",t.enableSeconds?X:0)},q=()=>{const[J,T]=E(a.value);return d.value.enabled?$([J.hours,T.hours],[J.minutes,T.minutes],[J.seconds,T.seconds]):$(J.hours,J.minutes,J.seconds)};e.onMounted(()=>{if(!t.shadow)return N(c.value),a.value?q():m()});const F=()=>{Array.isArray(a.value)?a.value=a.value.map((J,T)=>J&&z(J,T)):a.value=z(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:b,updateTime:(J,T=!0,X=!1)=>{f(J,T,X,F)},validateTime:P}},Wa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Oe},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),d=Ae(c,"timePicker"),v=e.ref(null),{time:f,modelValue:z,disabledTimesConfig:p,updateTime:N,validateTime:b}=Ua(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:z,time:f,updateTime:N}),toggleTimePicker:(_,U=!1,m="")=>{var E;(E=v.value)==null||E.toggleTimePicker(_,U,m)}}),(_,U)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Pn,e.mergeProps({ref_key:"tpRef",ref:v},_.$props,{hours:e.unref(f).hours,minutes:e.unref(f).minutes,seconds:e.unref(f).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(b),"onUpdate:hours":U[0]||(U[0]=m=>e.unref(N)(m)),"onUpdate:minutes":U[1]||(U[1]=m=>e.unref(N)(m,!1)),"onUpdate:seconds":U[2]||(U[2]=m=>e.unref(N)(m,!1,!0)),onAmPmChange:U[3]||(U[3]=m=>_.$emit("am-pm-change",m)),onResetFlow:U[4]||(U[4]=m=>_.$emit("reset-flow")),onOverlayClosed:U[5]||(U[5]=m=>_.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:U[6]||(U[6]=m=>_.$emit("overlay-toggle",{open:!0,overlay:m}))}),e.createSlots({_:2},[e.renderList(e.unref(d),(m,E)=>({name:m,fn:e.withCtx($=>[e.renderSlot(_.$slots,m,e.normalizeProps(e.guardReactiveProps($)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),ja={class:"dp--header-wrap"},Ka={key:0,class:"dp__month_year_wrap"},xa={key:0},qa={class:"dp__month_year_wrap"},Ga=["data-dp-element","aria-label","data-test","onClick","onKeydown"],Qa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Oe},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTransitions:c,defaultedAriaLabels:d,defaultedMultiCalendars:v,defaultedFilters:f,defaultedConfig:z,defaultedHighlight:p,propDates:N,defaultedUI:b}=ye(r),{transitionName:P,showTransition:H}=lt(c),{buildMatrix:_}=He(),{handleMonthYearChange:U,isDisabled:m,updateMonthYear:E}=ha(r,a),{showLeftIcon:$,showRightIcon:q}=ht(),F=e.ref(!1),ne=e.ref(!1),J=e.ref(!1),T=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const X=D=>({get:()=>r[D],set:W=>{const i=D===Ne.month?Ne.year:Ne.month;a("update-month-year",{[D]:W,[i]:r[i]}),D===Ne.month?k(!0):Q(!0)}}),O=e.computed(X(Ne.month)),G=e.computed(X(Ne.year)),le=e.computed(()=>D=>({month:r.month,year:r.year,items:D===Ne.month?r.months:r.years,instance:r.instance,updateMonthYear:E,toggle:D===Ne.month?k:Q})),ie=e.computed(()=>{const D=r.months.find(W=>W.value===r.month);return D||{text:"",value:0}}),h=e.computed(()=>Je(r.months,D=>{const W=r.month===D.value,i=tt(D.value,pn(r.year,N.value.minDate),gn(r.year,N.value.maxDate))||f.value.months.includes(D.value),S=wn(p.value,D.value,r.year);return{active:W,disabled:i,highlighted:S}})),L=e.computed(()=>Je(r.years,D=>{const W=r.year===D.value,i=tt(D.value,Ze(N.value.minDate),Ze(N.value.maxDate))||f.value.years.includes(D.value),S=It(p.value,D.value);return{active:W,disabled:i,highlighted:S}})),Z=(D,W,i)=>{i!==void 0?D.value=i:D.value=!D.value,D.value?(J.value=!0,a("overlay-opened",W)):(J.value=!1,a("overlay-closed",W))},k=(D=!1,W)=>{C(D),Z(F,De.month,W)},Q=(D=!1,W)=>{C(D),Z(ne,De.year,W)},C=D=>{D||a("reset-flow")},y=(D,W)=>{r.arrowNavigation&&(T.value[W]=we(D),_(T.value,"monthYear"))},ae=e.computed(()=>{var D,W,i,S,I,u;return[{type:Ne.month,index:1,toggle:k,modelValue:O.value,updateModelValue:ee=>O.value=ee,text:ie.value.text,showSelectionGrid:F.value,items:h.value,ariaLabel:(D=d.value)==null?void 0:D.openMonthsOverlay,overlayLabel:((i=(W=d.value).monthPicker)==null?void 0:i.call(W,!0))??void 0},{type:Ne.year,index:2,toggle:Q,modelValue:G.value,updateModelValue:ee=>G.value=ee,text:dn(r.year,r.locale),showSelectionGrid:ne.value,items:L.value,ariaLabel:(S=d.value)==null?void 0:S.openYearsOverlay,overlayLabel:((u=(I=d.value).yearPicker)==null?void 0:u.call(I,!0))??void 0}]}),Y=e.computed(()=>r.disableYearSelect?[ae.value[0]]:r.yearFirst?[...ae.value].reverse():ae.value);return n({toggleMonthPicker:k,toggleYearPicker:Q,handleMonthYearChange:U}),(D,W)=>{var i,S,I,u,ee,ue;return e.openBlock(),e.createElementBlock("div",ja,[D.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Ka,[e.renderSlot(D.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(E),handleMonthYearChange:e.unref(U),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[D.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",xa,[e.renderSlot(D.$slots,"top-extra",{value:D.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",qa,[e.unref($)(e.unref(v),t.instance)&&!D.vertical?(e.openBlock(),e.createBlock(rt,{key:0,"aria-label":(i=e.unref(d))==null?void 0:i.prevMonth,disabled:e.unref(m)(!1),class:e.normalizeClass((S=e.unref(b))==null?void 0:S.navBtnPrev),"el-name":"action-prev",onActivate:W[0]||(W[0]=B=>e.unref(U)(!1,!0)),onSetRef:W[1]||(W[1]=B=>y(B,0))},{default:e.withCtx(()=>[D.$slots["arrow-left"]?e.renderSlot(D.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Y.value,(B,ce)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:B.type},[e.createElementVNode("button",{ref_for:!0,ref:o=>y(o,ce+1),type:"button","data-dp-element":`overlay-${B.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":J.value}]),"aria-label":`${B.text}-${B.ariaLabel}`,"data-test":`${B.type}-toggle-overlay-${t.instance}`,onClick:B.toggle,onKeydown:o=>e.unref(Ce)(o,()=>B.toggle(),!0)},[D.$slots[B.type]?e.renderSlot(D.$slots,B.type,{key:0,text:B.text,value:r[B.type]}):e.createCommentVNode("",!0),D.$slots[B.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],42,Ga),e.createVNode(e.Transition,{name:e.unref(P)(B.showSelectionGrid),css:e.unref(H)},{default:e.withCtx(()=>[B.showSelectionGrid?(e.openBlock(),e.createBlock(at,{key:0,items:B.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!e.unref(z).keepActionRow,"skip-button-ref":!1,config:D.config,type:B.type,"header-refs":[],"esc-close":D.escClose,"menu-wrap-ref":D.menuWrapRef,"text-input":D.textInput,"aria-labels":D.ariaLabels,"overlay-label":B.overlayLabel,onSelected:B.updateModelValue,onToggle:B.toggle},e.createSlots({"button-icon":e.withCtx(()=>[D.$slots["calendar-icon"]?e.renderSlot(D.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),D.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[D.$slots[`${B.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:o})=>[e.renderSlot(D.$slots,`${B.type}-overlay-value`,{text:o.text,value:o.value})]),key:"0"}:void 0,D.$slots[`${B.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${B.type}-overlay`,e.mergeProps({ref_for:!0},le.value(B.type)))]),key:"1"}:void 0,D.$slots[`${B.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(D.$slots,`${B.type}-overlay-header`,{toggle:B.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref($)(e.unref(v),t.instance)&&D.vertical?(e.openBlock(),e.createBlock(rt,{key:1,"aria-label":(I=e.unref(d))==null?void 0:I.prevMonth,"el-name":"action-prev",disabled:e.unref(m)(!1),class:e.normalizeClass((u=e.unref(b))==null?void 0:u.navBtnPrev),onActivate:W[2]||(W[2]=B=>e.unref(U)(!1,!0))},{default:e.withCtx(()=>[D.$slots["arrow-up"]?e.renderSlot(D.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),D.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(q)(e.unref(v),t.instance)?(e.openBlock(),e.createBlock(rt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(m)(!0),"aria-label":(ee=e.unref(d))==null?void 0:ee.nextMonth,class:e.normalizeClass((ue=e.unref(b))==null?void 0:ue.navBtnNext),onActivate:W[3]||(W[3]=B=>e.unref(U)(!0,!0)),onSetRef:W[4]||(W[4]=B=>y(B,D.disableYearSelect?2:3))},{default:e.withCtx(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.renderSlot(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.vertical?e.unref(Bt):e.unref(Mt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),Xa={class:"dp__calendar_header",role:"row"},Ja={key:0,class:"dp__calendar_header_item",role:"gridcell"},Za=["aria-label"],Fa={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},er={class:"dp__cell_inner"},tr=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],nr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Oe},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMultiLevelMatrix:c}=He(),{defaultedTransitions:d,defaultedConfig:v,defaultedAriaLabels:f,defaultedMultiCalendars:z,defaultedWeekNumbers:p,defaultedMultiDates:N,defaultedUI:b}=ye(r),P=e.ref(null),H=e.ref({bottom:"",left:"",transform:""}),_=e.ref([]),U=e.ref(null),m=e.ref(!0),E=e.ref(""),$=e.ref({startX:0,endX:0,startY:0,endY:0}),q=e.ref([]),F=e.ref({left:"50%"}),ne=e.ref(!1),J=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),T=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):zn(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:_}),v.value.noSwipe||U.value&&(U.value.addEventListener("touchstart",y,{passive:!1}),U.value.addEventListener("touchend",ae,{passive:!1}),U.value.addEventListener("touchmove",Y,{passive:!1})),r.monthChangeOnScroll&&U.value&&U.value.addEventListener("wheel",i,{passive:!1})});const X=B=>B?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",O=(B,ce)=>{if(r.transitions){const o=Te(_e(x(),r.month,r.year));E.value=ke(Te(_e(x(),B,ce)),o)?d.value[X(!0)]:d.value[X(!1)],m.value=!1,e.nextTick(()=>{m.value=!0})}},G=e.computed(()=>({...b.value.calendar??{}})),le=e.computed(()=>B=>{const ce=Hn(B);return{dp__marker_dot:ce.type==="dot",dp__marker_line:ce.type==="line"}}),ie=e.computed(()=>B=>fe(B,P.value)),h=e.computed(()=>({dp__calendar:!0,dp__calendar_next:z.value.count>0&&r.instance!==0})),L=e.computed(()=>B=>r.hideOffsetDates?B.current:!0),Z=async(B,ce)=>{const{width:o,height:A}=B.getBoundingClientRect();P.value=ce.value;let R={left:`${o/2}px`},j=-50;if(await e.nextTick(),q.value[0]){const{left:re,width:M}=q.value[0].getBoundingClientRect();re<0&&(R={left:"0"},j=0,F.value.left=`${o/2}px`),window.innerWidth<re+M&&(R={right:"0"},j=0,F.value.left=`${M-o/2}px`)}H.value={bottom:`${A}px`,...R,transform:`translateX(${j}%)`}},k=async(B,ce,o)=>{var R,j,re;const A=we(_.value[ce][o]);A&&((R=B.marker)!=null&&R.customPosition&&((re=(j=B.marker)==null?void 0:j.tooltip)!=null&&re.length)?H.value=B.marker.customPosition(A):await Z(A,B),a("tooltip-open",B.marker))},Q=async(B,ce,o)=>{var A,R;if(ne.value&&N.value.enabled&&N.value.dragSelect)return a("select-date",B);a("set-hover-date",B),(R=(A=B.marker)==null?void 0:A.tooltip)!=null&&R.length&&await k(B,ce,o)},C=B=>{P.value&&(P.value=null,H.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",B.marker))},y=B=>{$.value.startX=B.changedTouches[0].screenX,$.value.startY=B.changedTouches[0].screenY},ae=B=>{$.value.endX=B.changedTouches[0].screenX,$.value.endY=B.changedTouches[0].screenY,D()},Y=B=>{r.vertical&&!r.inline&&B.preventDefault()},D=()=>{const B=r.vertical?"Y":"X";Math.abs($.value[`start${B}`]-$.value[`end${B}`])>10&&a("handle-swipe",$.value[`start${B}`]>$.value[`end${B}`]?"right":"left")},W=(B,ce,o)=>{B&&(Array.isArray(_.value[ce])?_.value[ce][o]=B:_.value[ce]=[B]),r.arrowNavigation&&c(_.value,"calendar")},i=B=>{r.monthChangeOnScroll&&(B.preventDefault(),a("handle-scroll",B))},S=B=>p.value.type==="local"?s.getWeek(B.value,{weekStartsOn:+r.weekStart}):p.value.type==="iso"?s.getISOWeek(B.value):typeof p.value.type=="function"?p.value.type(B.value):"",I=B=>{const ce=B[0];return p.value.hideOnOffsetDates?B.some(o=>o.current)?S(ce):"":S(ce)},u=(B,ce,o=!0)=>{o&&fn()||!o&&!fn()||N.value.enabled||(Ie(B,v.value),a("select-date",ce))},ee=B=>{Ie(B,v.value)},ue=B=>{N.value.enabled&&N.value.dragSelect?(ne.value=!0,a("select-date",B)):N.value.enabled&&a("select-date",B)};return n({triggerTransition:O}),(B,ce)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(h.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:U,class:e.normalizeClass(G.value),role:"grid"},[e.createElementVNode("div",Xa,[B.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ja,e.toDisplayString(B.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(o,A)=>{var R,j;return e.openBlock(),e.createElementBlock("div",{key:A,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(j=(R=e.unref(f))==null?void 0:R.weekDay)==null?void 0:j.call(R,A)},[B.$slots["calendar-header"]?e.renderSlot(B.$slots,"calendar-header",{key:0,day:o,index:A}):e.createCommentVNode("",!0),B.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))],8,Za)}),128))]),ce[2]||(ce[2]=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1)),e.createVNode(e.Transition,{name:E.value,css:!!B.transitions},{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:ce[1]||(ce[1]=o=>ne.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.value,(o,A)=>(e.openBlock(),e.createElementBlock("div",{key:A,class:"dp__calendar_row",role:"row"},[B.weekNumbers?(e.openBlock(),e.createElementBlock("div",Fa,[e.createElementVNode("div",er,e.toDisplayString(I(o.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.days,(R,j)=>{var re,M,V;return e.openBlock(),e.createElementBlock("div",{id:e.unref(Mn)(R.value),ref_for:!0,ref:oe=>W(oe,A,j),key:j+A,role:"gridcell",class:"dp__calendar_item","aria-pressed":(R.classData.dp__active_date||R.classData.dp__range_start||R.classData.dp__range_start)??void 0,"aria-disabled":R.classData.dp__cell_disabled||void 0,"aria-label":(M=(re=e.unref(f))==null?void 0:re.day)==null?void 0:M.call(re,R),tabindex:!R.current&&B.hideOffsetDates?void 0:0,"data-test":R.value,onClick:e.withModifiers(oe=>u(oe,R),["prevent"]),onTouchend:oe=>u(oe,R,!1),onKeydown:oe=>e.unref(Ce)(oe,()=>B.$emit("select-date",R)),onMouseenter:oe=>Q(R,A,j),onMouseleave:oe=>C(R),onMousedown:oe=>ue(R),onMouseup:ce[0]||(ce[0]=oe=>ne.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",R.classData])},[B.$slots.day&&L.value(R)?e.renderSlot(B.$slots,"day",{key:0,day:+R.text,date:R.value}):e.createCommentVNode("",!0),B.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R.text),1)],64)),R.marker&&L.value(R)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[B.$slots.marker?e.renderSlot(B.$slots,"marker",{key:0,marker:R.marker,day:+R.text,date:R.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(le.value(R.marker)),style:e.normalizeStyle(R.marker.color?{backgroundColor:R.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ie.value(R.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:q,class:"dp__marker_tooltip",style:e.normalizeStyle(H.value)},[(V=R.marker)!=null&&V.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:ee},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.marker.tooltip,(oe,de)=>(e.openBlock(),e.createElementBlock("div",{key:de,class:"dp__tooltip_text"},[B.$slots["marker-tooltip"]?e.renderSlot(B.$slots,"marker-tooltip",{key:0,tooltip:oe,day:R.value}):e.createCommentVNode("",!0),B.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(oe.color?{backgroundColor:oe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(oe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(F.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,tr)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),Nn=t=>Array.isArray(t),ar=(t,n,l,a)=>{const r=e.ref([]),c=e.ref(new Date),d=e.ref(),v=()=>y(t.isTextInputDate),{modelValue:f,calendars:z,time:p,today:N}=ot(t,n,v),{defaultedMultiCalendars:b,defaultedStartTime:P,defaultedRange:H,defaultedConfig:_,defaultedTz:U,propDates:m,defaultedMultiDates:E}=ye(t),{validateMonthYearInRange:$,isDisabled:q,isDateRangeAllowed:F,checkMinMaxRange:ne}=We(t),{updateTimeValues:J,getSetDateTime:T,setTime:X,assignStartTime:O,validateTime:G,disabledTimesConfig:le}=Rn(t,p,f,a),ie=e.computed(()=>w=>z.value[w]?z.value[w].month:0),h=e.computed(()=>w=>z.value[w]?z.value[w].year:0),L=w=>!_.value.keepViewOnOffsetClick||w?!0:!d.value,Z=(w,g,K,te=!1)=>{var me,Me;L(te)&&(z.value[w]||(z.value[w]={month:0,year:0}),z.value[w].month=un(g)?(me=z.value[w])==null?void 0:me.month:g,z.value[w].year=un(K)?(Me=z.value[w])==null?void 0:Me.year:K)},k=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(f.value||(B(),P.value&&O(P.value)),y(!0),t.focusStartDate&&t.startDate&&B())});const Q=e.computed(()=>{var w;return(w=t.flow)!=null&&w.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),C=()=>{t.autoApply&&Q.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},y=(w=!1)=>{if(f.value)return Array.isArray(f.value)?(r.value=f.value,I(w)):D(f.value,w);if(b.value.count&&w&&!t.startDate)return Y(x(),w)},ae=()=>Array.isArray(f.value)&&H.value.enabled?s.getMonth(f.value[0])===s.getMonth(f.value[1]??f.value[0]):!1,Y=(w=new Date,g=!1)=>{if((!b.value.count||!b.value.static||g)&&Z(0,s.getMonth(w),s.getYear(w)),b.value.count&&(!b.value.solo||!f.value||ae()))for(let K=1;K<b.value.count;K++){const te=s.set(x(),{month:ie.value(K-1),year:h.value(K-1)}),me=s.add(te,{months:1});z.value[K]={month:s.getMonth(me),year:s.getYear(me)}}},D=(w,g)=>{Y(w),X("hours",s.getHours(w)),X("minutes",s.getMinutes(w)),X("seconds",s.getSeconds(w)),b.value.count&&g&&ue()},W=w=>{if(b.value.count){if(b.value.solo)return 0;const g=s.getMonth(w[0]),K=s.getMonth(w[1]);return Math.abs(K-g)<b.value.count?0:1}return 1},i=(w,g)=>{w[1]&&H.value.showLastInRange?Y(w[W(w)],g):Y(w[0],g);const K=(te,me)=>[te(w[0]),w[1]?te(w[1]):p[me][1]];X("hours",K(s.getHours,"hours")),X("minutes",K(s.getMinutes,"minutes")),X("seconds",K(s.getSeconds,"seconds"))},S=(w,g)=>{if((H.value.enabled||t.weekPicker)&&!E.value.enabled)return i(w,g);if(E.value.enabled&&g){const K=w[w.length-1];return D(K,g)}},I=w=>{const g=f.value;S(g,w),b.value.count&&b.value.solo&&ue()},u=(w,g)=>{const K=s.set(x(),{month:ie.value(g),year:h.value(g)}),te=w<0?s.addMonths(K,1):s.subMonths(K,1);$(s.getMonth(te),s.getYear(te),w<0,t.preventMinMaxNavigation)&&(Z(g,s.getMonth(te),s.getYear(te)),n("update-month-year",{instance:g,month:s.getMonth(te),year:s.getYear(te)}),b.value.count&&!b.value.solo&&ee(g),l())},ee=w=>{for(let g=w-1;g>=0;g--){const K=s.subMonths(s.set(x(),{month:ie.value(g+1),year:h.value(g+1)}),1);Z(g,s.getMonth(K),s.getYear(K))}for(let g=w+1;g<=b.value.count-1;g++){const K=s.addMonths(s.set(x(),{month:ie.value(g-1),year:h.value(g-1)}),1);Z(g,s.getMonth(K),s.getYear(K))}},ue=()=>{if(Array.isArray(f.value)&&f.value.length===2){const w=x(x(f.value[1]?f.value[1]:s.addMonths(f.value[0],1))),[g,K]=[s.getMonth(f.value[0]),s.getYear(f.value[0])],[te,me]=[s.getMonth(f.value[1]),s.getYear(f.value[1])];(g!==te||g===te&&K!==me)&&b.value.solo&&Z(1,s.getMonth(w),s.getYear(w))}else f.value&&!Array.isArray(f.value)&&(Z(0,s.getMonth(f.value),s.getYear(f.value)),Y(x()))},B=()=>{t.startDate&&(Z(0,s.getMonth(x(t.startDate)),s.getYear(x(t.startDate))),b.value.count&&ee(0))},ce=(w,g)=>{if(t.monthChangeOnScroll){const K=new Date().getTime()-c.value.getTime(),te=Math.abs(w.deltaY);let me=500;te>1&&(me=100),te>100&&(me=0),K>me&&(c.value=new Date,u(t.monthChangeOnScroll!=="inverse"?-w.deltaY:w.deltaY,g))}},o=(w,g,K=!1)=>{t.monthChangeOnArrows&&t.vertical===K&&A(w,g)},A=(w,g)=>{u(w==="right"?-1:1,g)},R=w=>{if(m.value.markers)return ct(w.value,m.value.markers)},j=(w,g)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[w==0,!0];case"fair":return[w==0||g>w,!0];case"append":return[!1,!1];default:return[!1,!1]}},re=(w,g,K,te)=>{if(t.sixWeeks&&w.length<6){const me=6-w.length,Me=(g.getDay()+7-te)%7,bt=6-(K.getDay()+7-te)%7,[ut,tn]=j(Me,bt);for(let Qe=1;Qe<=me;Qe++)if(tn?!!(Qe%2)==ut:ut){const vt=w[0].days[0],nn=M(s.addDays(vt.value,-7),s.getMonth(g));w.unshift({days:nn})}else{const vt=w[w.length-1],nn=vt.days[vt.days.length-1],Nr=M(s.addDays(nn.value,1),s.getMonth(g));w.push({days:Nr})}}return w},M=(w,g)=>{const K=x(w),te=[];for(let me=0;me<7;me++){const Me=s.addDays(K,me),Ge=s.getMonth(Me)!==g;te.push({text:t.hideOffsetDates&&Ge?"":Me.getDate(),value:Me,current:!Ge,classData:{}})}return te},V=(w,g)=>{const K=[],te=new Date(g,w),me=new Date(g,w+1,0),Me=t.weekStart,Ge=s.startOfWeek(te,{weekStartsOn:Me}),bt=ut=>{const tn=M(ut,w);if(K.push({days:tn}),!K[K.length-1].days.some(Qe=>fe(Te(Qe.value),Te(me)))){const Qe=s.addDays(ut,7);bt(Qe)}};return bt(Ge),re(K,te,me,Me)},oe=w=>{const g=ze(x(w.value),p.hours,p.minutes,Pe());n("date-update",g),E.value.enabled?jt(g,f,E.value.limit):f.value=g,a(),e.nextTick().then(()=>{C()})},de=w=>H.value.noDisabledRange?yn(r.value[0],w).some(K=>q(K)):!1,Re=()=>{r.value=f.value?f.value.slice():[],r.value.length===2&&!(H.value.fixedStart||H.value.fixedEnd)&&(r.value=[])},se=(w,g)=>{const K=[x(w.value),s.addDays(x(w.value),+H.value.autoRange)];F(K)?(g&&je(w.value),r.value=K):n("invalid-date",w.value)},je=w=>{const g=s.getMonth(x(w)),K=s.getYear(x(w));if(Z(0,g,K),b.value.count>0)for(let te=1;te<b.value.count;te++){const me=Gn(s.set(x(w),{year:h.value(te-1),month:ie.value(te-1)}));Z(te,me.month,me.year)}},Ye=w=>{if(de(w.value)||!ne(w.value,f.value,H.value.fixedStart?0:1))return n("invalid-date",w.value);r.value=$n(x(w.value),f,n,H)},st=(w,g)=>{if(Re(),H.value.autoRange)return se(w,g);if(H.value.fixedStart||H.value.fixedEnd)return Ye(w);r.value[0]?ne(x(w.value),f.value)&&!de(w.value)?he(x(w.value),x(r.value[0]))?(r.value.unshift(x(w.value)),n("range-end",r.value[0])):(r.value[1]=x(w.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",w.value),n("invalid-date",w.value)):(r.value[0]=x(w.value),n("range-start",r.value[0]))},Pe=(w=!0)=>t.enableSeconds?Array.isArray(p.seconds)?w?p.seconds[0]:p.seconds[1]:p.seconds:0,it=w=>{r.value[w]=ze(r.value[w],p.hours[w],p.minutes[w],Pe(w!==1))},Gt=()=>{var w,g;r.value[0]&&r.value[1]&&+((w=r.value)==null?void 0:w[0])>+((g=r.value)==null?void 0:g[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},kt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?it(0):(it(0),it(1),a()),Gt(),f.value=r.value.slice(),yt(r.value,n,t.autoApply,t.modelAuto))},Qt=(w,g=!1)=>{if(q(w.value)||!w.current&&t.hideOffsetDates)return n("invalid-date",w.value);if(d.value=JSON.parse(JSON.stringify(w)),!H.value.enabled)return oe(w);Nn(p.hours)&&Nn(p.minutes)&&!E.value.enabled&&(st(w,g),kt())},Xt=(w,g)=>{var te;Z(w,g.month,g.year,!0),b.value.count&&!b.value.solo&&ee(w),n("update-month-year",{instance:w,month:g.month,year:g.year}),l(b.value.solo?w:void 0);const K=(te=t.flow)!=null&&te.length?t.flow[t.flowStep]:void 0;!g.fromNav&&(K===De.month||K===De.year)&&a()},Jt=(w,g)=>{Tn({value:w,modelValue:f,range:H.value.enabled,timezone:g?void 0:U.value.timezone}),k(),t.multiCalendars&&e.nextTick().then(()=>y(!0))},Zt=()=>{const w=Ct(x(),U.value);H.value.enabled?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=he(w,f.value[0])?[w,f.value[0]]:[f.value[0],w]:f.value=[w]:f.value=w,k()},Ft=()=>{if(Array.isArray(f.value))if(E.value.enabled){const w=en();f.value[f.value.length-1]=T(w)}else f.value=f.value.map((w,g)=>w&&T(w,g));else f.value=T(f.value);n("time-update")},en=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null;return{calendars:z,modelValue:f,month:ie,year:h,time:p,disabledTimesConfig:le,today:N,validateTime:G,getCalendarDays:V,getMarker:R,handleScroll:ce,handleSwipe:A,handleArrow:o,selectDate:Qt,updateMonthYear:Xt,presetDate:Jt,selectCurrentDate:Zt,updateTime:(w,g=!0,K=!1)=>{J(w,g,K,Ft)},assignMonthAndYear:Y}},rr={key:0},lr=e.defineComponent({__name:"DatePicker",props:{...Oe},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,{calendars:c,month:d,year:v,modelValue:f,time:z,disabledTimesConfig:p,today:N,validateTime:b,getCalendarDays:P,getMarker:H,handleArrow:_,handleScroll:U,handleSwipe:m,selectDate:E,updateMonthYear:$,presetDate:q,selectCurrentDate:F,updateTime:ne,assignMonthAndYear:J}=ar(r,a,ae,Y),T=e.useSlots(),{setHoverDate:X,getDayClassData:O,clearHoverDate:G}=vr(f,r),{defaultedMultiCalendars:le}=ye(r),ie=e.ref([]),h=e.ref([]),L=e.ref(null),Z=Ae(T,"calendar"),k=Ae(T,"monthYear"),Q=Ae(T,"timePicker"),C=o=>{r.shadow||a("mount",o)};e.watch(c,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(le,(o,A)=>{o.count-A.count>0&&J()},{deep:!0});const y=e.computed(()=>o=>P(d.value(o),v.value(o)).map(A=>({...A,days:A.days.map(R=>(R.marker=H(R),R.classData=O(R),R))})));function ae(o){var A;o||o===0?(A=h.value[o])==null||A.triggerTransition(d.value(o),v.value(o)):h.value.forEach((R,j)=>R.triggerTransition(d.value(j),v.value(j)))}function Y(){a("update-flow-step")}const D=(o,A=!1)=>{E(o,A),r.spaceConfirm&&a("select-date")},W=(o,A,R=0)=>{var j;(j=ie.value[R])==null||j.toggleMonthPicker(o,A)},i=(o,A,R=0)=>{var j;(j=ie.value[R])==null||j.toggleYearPicker(o,A)},S=(o,A,R)=>{var j;(j=L.value)==null||j.toggleTimePicker(o,A,R)},I=(o,A)=>{var R;if(!r.range){const j=f.value?f.value:N,re=A?new Date(A):j,M=o?s.startOfWeek(re,{weekStartsOn:1}):s.endOfWeek(re,{weekStartsOn:1});E({value:M,current:s.getMonth(re)===d.value(0),text:"",classData:{}}),(R=document.getElementById(Mn(M)))==null||R.focus()}},u=o=>{var A;(A=ie.value[0])==null||A.handleMonthYearChange(o,!0)},ee=o=>{$(0,{month:d.value(0),year:v.value(0)+(o?1:-1),fromNav:!0})},ue=(o,A)=>{o===De.time&&a(`time-picker-${A?"open":"close"}`),a("overlay-toggle",{open:A,overlay:o})},B=o=>{a("overlay-toggle",{open:!1,overlay:o}),a("focus-menu")};return n({clearHoverDate:G,presetDate:q,selectCurrentDate:F,toggleMonthPicker:W,toggleYearPicker:i,toggleTimePicker:S,handleArrow:_,updateMonthYear:$,getSidebarProps:()=>({modelValue:f,month:d,year:v,time:z,updateTime:ne,updateMonthYear:$,selectDate:E,presetDate:q}),changeMonth:u,changeYear:ee,selectWeekDate:I}),(o,A)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(gt,{"multi-calendars":e.unref(le).count,collapse:o.collapse},{default:e.withCtx(({instance:R,index:j})=>[o.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Qa,e.mergeProps({key:0,ref:re=>{re&&(ie.value[j]=re)},months:e.unref(ln)(o.formatLocale,o.locale,o.monthNameFormat),years:e.unref($t)(o.yearRange,o.locale,o.reverseYears),month:e.unref(d)(R),year:e.unref(v)(R),instance:R},o.$props,{onMount:A[0]||(A[0]=re=>C(e.unref(xe).header)),onResetFlow:A[1]||(A[1]=re=>o.$emit("reset-flow")),onUpdateMonthYear:re=>e.unref($)(R,re),onOverlayClosed:B,onOverlayOpened:A[2]||(A[2]=re=>o.$emit("overlay-toggle",{open:!0,overlay:re}))}),e.createSlots({_:2},[e.renderList(e.unref(k),(re,M)=>({name:re,fn:e.withCtx(V=>[e.renderSlot(o.$slots,re,e.normalizeProps(e.guardReactiveProps(V)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(nr,e.mergeProps({ref:re=>{re&&(h.value[j]=re)},"mapped-dates":y.value(R),month:e.unref(d)(R),year:e.unref(v)(R),instance:R},o.$props,{onSelectDate:re=>e.unref(E)(re,R!==1),onHandleSpace:re=>D(re,R!==1),onSetHoverDate:A[3]||(A[3]=re=>e.unref(X)(re)),onHandleScroll:re=>e.unref(U)(re,R),onHandleSwipe:re=>e.unref(m)(re,R),onMount:A[4]||(A[4]=re=>C(e.unref(xe).calendar)),onResetFlow:A[5]||(A[5]=re=>o.$emit("reset-flow")),onTooltipOpen:A[6]||(A[6]=re=>o.$emit("tooltip-open",re)),onTooltipClose:A[7]||(A[7]=re=>o.$emit("tooltip-close",re))}),e.createSlots({_:2},[e.renderList(e.unref(Z),(re,M)=>({name:re,fn:e.withCtx(V=>[e.renderSlot(o.$slots,re,e.normalizeProps(e.guardReactiveProps({...V})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),o.enableTimePicker?(e.openBlock(),e.createElementBlock("div",rr,[o.$slots["time-picker"]?e.renderSlot(o.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(z),updateTime:e.unref(ne)}))):(e.openBlock(),e.createBlock(Pn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:L},o.$props,{hours:e.unref(z).hours,minutes:e.unref(z).minutes,seconds:e.unref(z).seconds,"internal-model-value":o.internalModelValue,"disabled-times-config":e.unref(p),"validate-time":e.unref(b),onMount:A[8]||(A[8]=R=>C(e.unref(xe).timePicker)),"onUpdate:hours":A[9]||(A[9]=R=>e.unref(ne)(R)),"onUpdate:minutes":A[10]||(A[10]=R=>e.unref(ne)(R,!1)),"onUpdate:seconds":A[11]||(A[11]=R=>e.unref(ne)(R,!1,!0)),onResetFlow:A[12]||(A[12]=R=>o.$emit("reset-flow")),onOverlayClosed:A[13]||(A[13]=R=>ue(R,!1)),onOverlayOpened:A[14]||(A[14]=R=>ue(R,!0)),onAmPmChange:A[15]||(A[15]=R=>o.$emit("am-pm-change",R))}),e.createSlots({_:2},[e.renderList(e.unref(Q),(R,j)=>({name:R,fn:e.withCtx(re=>[e.renderSlot(o.$slots,R,e.normalizeProps(e.guardReactiveProps(re)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),or=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:c,defaultedRange:d,propDates:v,defaultedFilters:f,defaultedMultiDates:z}=ye(t),{modelValue:p,year:N,month:b,calendars:P}=ot(t,n),{isDisabled:H}=We(t),{selectYear:_,groupedYears:U,showYearPicker:m,isDisabled:E,toggleYearPicker:$,handleYearSelect:q,handleYear:F}=An({modelValue:p,multiCalendars:a,range:d,highlight:c,calendars:P,propDates:v,month:b,year:N,filters:f,props:t,emit:n}),ne=(k,Q)=>[k,Q].map(C=>s.format(C,"MMMM",{locale:t.formatLocale})).join("-"),J=e.computed(()=>k=>p.value?Array.isArray(p.value)?p.value.some(Q=>s.isSameQuarter(k,Q)):s.isSameQuarter(p.value,k):!1),T=k=>{if(d.value.enabled){if(Array.isArray(p.value)){const Q=fe(k,p.value[0])||fe(k,p.value[1]);return dt(p.value,l.value,k)&&!Q}return!1}return!1},X=(k,Q)=>k.quarter===s.getQuarter(Q)&&k.year===s.getYear(Q),O=k=>typeof c.value=="function"?c.value({quarter:s.getQuarter(k),year:s.getYear(k)}):!!c.value.quarters.find(Q=>X(Q,k)),G=e.computed(()=>k=>{const Q=s.set(new Date,{year:N.value(k)});return s.eachQuarterOfInterval({start:s.startOfYear(Q),end:s.endOfYear(Q)}).map(C=>{const y=s.startOfQuarter(C),ae=s.endOfQuarter(C),Y=H(C),D=T(y),W=O(y);return{text:ne(y,ae),value:y,active:J.value(y),highlighted:W,disabled:Y,isBetween:D}})}),le=k=>{jt(k,p,z.value.limit),n("auto-apply",!0)},ie=k=>{p.value=Kt(p,k,n),yt(p.value,n,t.autoApply,t.modelAuto)},h=k=>{p.value=k,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:U,year:N,isDisabled:E,quarters:G,showYearPicker:m,modelValue:p,setHoverDate:k=>{l.value=k},selectYear:_,selectQuarter:(k,Q,C)=>{if(!C)return P.value[Q].month=s.getMonth(s.endOfQuarter(k)),z.value.enabled?le(k):d.value.enabled?ie(k):h(k)},toggleYearPicker:$,handleYearSelect:q,handleYear:F}},sr={class:"dp--quarter-items"},ir=["data-test","disabled","onClick","onMouseover"],ur=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),d=Ae(c,"yearMode"),{defaultedMultiCalendars:v,defaultedConfig:f,groupedYears:z,year:p,isDisabled:N,quarters:b,modelValue:P,showYearPicker:H,setHoverDate:_,selectQuarter:U,toggleYearPicker:m,handleYearSelect:E,handleYear:$}=or(r,a);return n({getSidebarProps:()=>({modelValue:P,year:p,selectQuarter:U,handleYearSelect:E,handleYear:$})}),(F,ne)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(v).count,collapse:F.collapse,stretch:""},{default:e.withCtx(({instance:J})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(f).modeHeight}px`})},[F.$slots["top-extra"]?e.renderSlot(F.$slots,"top-extra",{key:0,value:F.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Cn,e.mergeProps(F.$props,{items:e.unref(z)(J),instance:J,"show-year-picker":e.unref(H)[J],year:e.unref(p)(J),"is-disabled":T=>e.unref(N)(J,T),onHandleYear:T=>e.unref($)(J,T),onYearSelect:T=>e.unref(E)(T,J),onToggleYearPicker:T=>e.unref(m)(J,T==null?void 0:T.flow,T==null?void 0:T.show)}),e.createSlots({_:2},[e.renderList(e.unref(d),(T,X)=>({name:T,fn:e.withCtx(O=>[e.renderSlot(F.$slots,T,e.normalizeProps(e.guardReactiveProps(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",sr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b)(J),(T,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":T.active,"dp--qr-btn-between":T.isBetween,"dp--qr-btn-disabled":T.disabled,"dp--highlighted":T.highlighted}]),"data-test":T.value,disabled:T.disabled,onClick:O=>e.unref(U)(T.value,J,T.disabled),onMouseover:O=>e.unref(_)(T.value)},[F.$slots.quarter?e.renderSlot(F.$slots,"quarter",{key:0,value:T.value,text:T.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(T.text),1)],64))],42,ir)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),cr=["id","tabindex","role","aria-label"],dr={key:0,class:"dp--menu-load-container"},fr={key:1,class:"dp--menu-header"},mr={key:0,class:"dp__sidebar_left"},pr=["data-test","onClick","onKeydown"],gr={key:2,class:"dp__sidebar_right"},yr={key:3,class:"dp__action_extra"},En=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...pt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.ref(null),d=e.computed(()=>{const{openOnTop:M,...V}=r;return{...V,flowStep:X.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:c.value}}),{setMenuFocused:v,setShiftKey:f,control:z}=Dn(),p=e.useSlots(),{defaultedTextInput:N,defaultedInline:b,defaultedConfig:P,defaultedUI:H}=ye(r),_=e.ref(null),U=e.ref(0),m=e.ref(null),E=e.ref(!1),$=e.ref(null);e.onMounted(()=>{if(!r.shadow){E.value=!0,q(),window.addEventListener("resize",q);const M=we(c);if(M&&!N.value.enabled&&!b.value.enabled&&(v(!0),Z()),M){const V=oe=>{P.value.allowPreventDefault&&oe.preventDefault(),Ie(oe,P.value,!0)};M.addEventListener("pointerdown",V),M.addEventListener("mousedown",V)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",q)});const q=()=>{const M=we(m);M&&(U.value=M.getBoundingClientRect().width)},{arrowRight:F,arrowLeft:ne,arrowDown:J,arrowUp:T}=He(),{flowStep:X,updateFlowStep:O,childMount:G,resetFlow:le,handleFlow:ie}=wr(r,a,$),h=e.computed(()=>r.monthPicker?$a:r.yearPicker?Pa:r.timePicker?Wa:r.quarterPicker?ur:lr),L=e.computed(()=>{var oe;if(P.value.arrowLeft)return P.value.arrowLeft;const M=(oe=c.value)==null?void 0:oe.getBoundingClientRect(),V=r.getInputRect();return(V==null?void 0:V.width)<(U==null?void 0:U.value)&&(V==null?void 0:V.left)<=((M==null?void 0:M.left)??0)?`${(V==null?void 0:V.width)/2}px`:(V==null?void 0:V.right)>=((M==null?void 0:M.right)??0)&&(V==null?void 0:V.width)<(U==null?void 0:U.value)?`${(U==null?void 0:U.value)-(V==null?void 0:V.width)/2}px`:"50%"}),Z=()=>{const M=we(c);M&&M.focus({preventScroll:!0})},k=e.computed(()=>{var M;return((M=$.value)==null?void 0:M.getSidebarProps())||{}}),Q=()=>{r.openOnTop&&a("recalculate-position")},C=Ae(p,"action"),y=e.computed(()=>r.monthPicker||r.yearPicker?Ae(p,"monthYear"):r.timePicker?Ae(p,"timePicker"):Ae(p,"shared")),ae=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Y=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),D=e.computed(()=>({dp__menu:!0,dp__menu_index:!b.value.enabled,dp__relative:b.value.enabled,...H.value.menu??{}})),W=M=>{Ie(M,P.value,!0)},i=()=>{r.escClose&&a("close-picker")},S=M=>{if(r.arrowNavigation){if(M===Be.up)return T();if(M===Be.down)return J();if(M===Be.left)return ne();if(M===Be.right)return F()}else M===Be.left||M===Be.up?B("handleArrow",Be.left,0,M===Be.up):B("handleArrow",Be.right,0,M===Be.down)},I=M=>{f(M.shiftKey),!r.disableMonthYearSelect&&M.code===pe.tab&&M.target.classList.contains("dp__menu")&&z.value.shiftKeyInMenu&&(M.preventDefault(),Ie(M,P.value,!0),a("close-picker"))},u=()=>{Z(),a("time-picker-close")},ee=M=>{var V,oe,de;(V=$.value)==null||V.toggleTimePicker(!1,!1),(oe=$.value)==null||oe.toggleMonthPicker(!1,!1,M),(de=$.value)==null||de.toggleYearPicker(!1,!1,M)},ue=(M,V=0)=>{var oe,de,Re;return M==="month"?(oe=$.value)==null?void 0:oe.toggleMonthPicker(!1,!0,V):M==="year"?(de=$.value)==null?void 0:de.toggleYearPicker(!1,!0,V):M==="time"?(Re=$.value)==null?void 0:Re.toggleTimePicker(!0,!1):ee(V)},B=(M,...V)=>{var oe,de;(oe=$.value)!=null&&oe[M]&&((de=$.value)==null||de[M](...V))},ce=()=>{B("selectCurrentDate")},o=(M,V)=>{B("presetDate",M,V)},A=()=>{B("clearHoverDate")},R=(M,V)=>{B("updateMonthYear",M,V)},j=(M,V)=>{M.preventDefault(),S(V)},re=M=>{var V,oe,de;if(I(M),M.key===pe.home||M.key===pe.end)return B("selectWeekDate",M.key===pe.home,M.target.getAttribute("id"));switch((M.key===pe.pageUp||M.key===pe.pageDown)&&(M.shiftKey?(B("changeYear",M.key===pe.pageUp),(V=Pt(c.value,"overlay-year"))==null||V.focus()):(B("changeMonth",M.key===pe.pageUp),(oe=Pt(c.value,M.key===pe.pageUp?"action-prev":"action-next"))==null||oe.focus()),M.target.getAttribute("id")&&((de=c.value)==null||de.focus({preventScroll:!0}))),M.key){case pe.esc:return i();case pe.arrowLeft:return j(M,Be.left);case pe.arrowRight:return j(M,Be.right);case pe.arrowUp:return j(M,Be.up);case pe.arrowDown:return j(M,Be.down);default:return}};return n({updateMonthYear:R,switchView:ue,handleFlow:ie}),(M,V)=>{var oe,de,Re;return e.openBlock(),e.createElementBlock("div",{id:M.uid?`dp-menu-${M.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:e.unref(b).enabled?void 0:"0",role:e.unref(b).enabled?void 0:"dialog","aria-label":(oe=M.ariaLabels)==null?void 0:oe.menu,class:e.normalizeClass(D.value),style:e.normalizeStyle({"--dp-arrow-left":L.value}),onMouseleave:A,onClick:W,onKeydown:re},[(M.disabled||M.readonly)&&e.unref(b).enabled||M.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(Y.value)},[M.loading?(e.openBlock(),e.createElementBlock("div",dr,V[19]||(V[19]=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)]))):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),M.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",fr,[e.renderSlot(M.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(b).enabled&&!M.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(ae.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:m,class:e.normalizeClass({dp__menu_content_wrapper:((de=M.presetDates)==null?void 0:de.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Re=M.presetDates)==null?void 0:Re.length)||!!M.$slots["left-sidebar"]||!!M.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${U.value}px`})},[M.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",mr,[e.renderSlot(M.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(k.value)))])):e.createCommentVNode("",!0),M.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.presetDates,(se,je)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:je},[se.slot?e.renderSlot(M.$slots,se.slot,{key:0,presetDate:o,label:se.label,value:se.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(se.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":se.testId??void 0,onClick:e.withModifiers(Ye=>o(se.value,se.noTz),["prevent"]),onKeydown:Ye=>e.unref(Ce)(Ye,()=>o(se.value,se.noTz),!0)},e.toDisplayString(se.label),47,pr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:_,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.value),e.mergeProps({ref_key:"dynCmpRef",ref:$},d.value,{"flow-step":e.unref(X),onMount:e.unref(G),onUpdateFlowStep:e.unref(O),onResetFlow:e.unref(le),onFocusMenu:Z,onSelectDate:V[0]||(V[0]=se=>M.$emit("select-date")),onDateUpdate:V[1]||(V[1]=se=>M.$emit("date-update",se)),onTooltipOpen:V[2]||(V[2]=se=>M.$emit("tooltip-open",se)),onTooltipClose:V[3]||(V[3]=se=>M.$emit("tooltip-close",se)),onAutoApply:V[4]||(V[4]=se=>M.$emit("auto-apply",se)),onRangeStart:V[5]||(V[5]=se=>M.$emit("range-start",se)),onRangeEnd:V[6]||(V[6]=se=>M.$emit("range-end",se)),onInvalidFixedRange:V[7]||(V[7]=se=>M.$emit("invalid-fixed-range",se)),onTimeUpdate:V[8]||(V[8]=se=>M.$emit("time-update")),onAmPmChange:V[9]||(V[9]=se=>M.$emit("am-pm-change",se)),onTimePickerOpen:V[10]||(V[10]=se=>M.$emit("time-picker-open",se)),onTimePickerClose:u,onRecalculatePosition:Q,onUpdateMonthYear:V[11]||(V[11]=se=>M.$emit("update-month-year",se)),onAutoApplyInvalid:V[12]||(V[12]=se=>M.$emit("auto-apply-invalid",se)),onInvalidDate:V[13]||(V[13]=se=>M.$emit("invalid-date",se)),onOverlayToggle:V[14]||(V[14]=se=>M.$emit("overlay-toggle",se)),"onUpdate:internalModelValue":V[15]||(V[15]=se=>M.$emit("update:internal-model-value",se))}),e.createSlots({_:2},[e.renderList(y.value,(se,je)=>({name:se,fn:e.withCtx(Ye=>[e.renderSlot(M.$slots,se,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),M.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",gr,[e.renderSlot(M.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(k.value)))])):e.createCommentVNode("",!0),M.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",yr,[M.$slots["action-extra"]?e.renderSlot(M.$slots,"action-extra",{key:0,selectCurrentDate:ce}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!M.autoApply||e.unref(P).keepActionRow?(e.openBlock(),e.createBlock(va,e.mergeProps({key:3,"menu-mount":E.value},d.value,{"calendar-width":U.value,onClosePicker:V[16]||(V[16]=se=>M.$emit("close-picker")),onSelectDate:V[17]||(V[17]=se=>M.$emit("select-date")),onInvalidSelect:V[18]||(V[18]=se=>M.$emit("invalid-select")),onSelectNow:ce}),e.createSlots({_:2},[e.renderList(e.unref(C),(se,je)=>({name:se,fn:e.withCtx(Ye=>[e.renderSlot(M.$slots,se,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,cr)}}});var et=(t=>(t.center="center",t.left="left",t.right="right",t))(et||{});const hr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:a,inline:r,emit:c,props:d,slots:v})=>{const{defaultedConfig:f}=ye(d),z=e.ref({}),p=e.ref(!1),N=e.ref({top:"0",left:"0"}),b=e.ref(!1),P=e.toRef(d,"teleportCenter");e.watch(P,()=>{N.value=JSON.parse(JSON.stringify({})),F()});const H=k=>{if(d.teleport){const Q=k.getBoundingClientRect();return{left:Q.left+window.scrollX,top:Q.top+window.scrollY}}return{top:0,left:0}},_=(k,Q)=>{N.value.left=`${k+Q-z.value.width}px`},U=k=>{N.value.left=`${k}px`},m=(k,Q)=>{d.position===et.left&&U(k),d.position===et.right&&_(k,Q),d.position===et.center&&(N.value.left=`${k+Q/2-z.value.width/2}px`)},E=k=>{const{width:Q,height:C}=k.getBoundingClientRect(),{top:y,left:ae}=d.altPosition?d.altPosition(k):H(k);return{top:+y,left:+ae,width:Q,height:C}},$=()=>{N.value.left="50%",N.value.top="50%",N.value.transform="translate(-50%, -50%)",N.value.position="fixed",delete N.value.opacity},q=()=>{const k=we(l),{top:Q,left:C,transform:y}=d.altPosition(k);N.value={top:`${Q}px`,left:`${C}px`,transform:y??""}},F=(k=!0)=>{var Q;if(!r.value.enabled){if(P.value)return $();if(d.altPosition!==null)return q();if(k){const C=d.teleport?(Q=n.value)==null?void 0:Q.$el:t.value;C&&(z.value=C.getBoundingClientRect()),c("recalculate-position")}return le()}},ne=({inputEl:k,left:Q,width:C})=>{window.screen.width>768&&!p.value&&m(Q,C),X(k)},J=k=>{const{top:Q,left:C,height:y,width:ae}=E(k);N.value.top=`${y+Q+ +d.offset}px`,b.value=!1,p.value||(N.value.left=`${C+ae/2-z.value.width/2}px`),ne({inputEl:k,left:C,width:ae})},T=k=>{const{top:Q,left:C,width:y}=E(k);N.value.top=`${Q-+d.offset-z.value.height}px`,b.value=!0,ne({inputEl:k,left:C,width:y})},X=k=>{if(d.autoPosition){const{left:Q,width:C}=E(k),{left:y,right:ae}=z.value;if(!p.value){if(Math.abs(y)!==Math.abs(ae)){if(y<=0)return p.value=!0,U(Q);if(ae>=document.documentElement.clientWidth)return p.value=!0,_(Q,C)}return m(Q,C)}}},O=()=>{const k=we(l);if(k){const{height:Q}=z.value,{top:C,height:y}=k.getBoundingClientRect(),Y=window.innerHeight-C-y,D=C;return Q<=Y?Ke.bottom:Q>Y&&Q<=D?Ke.top:Y>=D?Ke.bottom:Ke.top}return Ke.bottom},G=k=>O()===Ke.bottom?J(k):T(k),le=()=>{const k=we(l);if(k)return d.autoPosition?G(k):J(k)},ie=function(k){if(k){const Q=k.scrollHeight>k.clientHeight,y=window.getComputedStyle(k).overflowY.indexOf("hidden")!==-1;return Q&&!y}return!0},h=function(k){return!k||k===document.body||k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ie(k)?k:h(k.assignedSlot&&f.value.shadowDom?k.assignedSlot.parentNode:k.parentNode)},L=k=>{if(k)switch(d.position){case et.left:return{left:0,transform:"translateX(0)"};case et.right:return{left:`${k.width}px`,transform:"translateX(-100%)"};default:return{left:`${k.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:b,menuStyle:N,xCorrect:p,setMenuPosition:F,getScrollableParent:h,shadowRender:(k,Q)=>{var i,S,I;const C=document.createElement("div"),y=(i=we(l))==null?void 0:i.getBoundingClientRect();C.setAttribute("id","dp--temp-container");const ae=(S=a.value)!=null&&S.clientWidth?a.value:document.body;ae.append(C);const Y=L(y),D=f.value.shadowDom?Object.keys(v).filter(u=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(u)):Object.keys(v),W=e.h(k,{...Q,shadow:!0,style:{opacity:0,position:"absolute",...Y}},Object.fromEntries(D.map(u=>[u,v[u]])));e.render(W,C),z.value=(I=W.el)==null?void 0:I.getBoundingClientRect(),e.render(null,C),ae.removeChild(C)}}},Ue=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],kr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],br={all:()=>Ue,monthYear:()=>Ue.filter(t=>t.use.includes("month-year")),input:()=>kr,timePicker:()=>Ue.filter(t=>t.use.includes("time")),action:()=>Ue.filter(t=>t.use.includes("action")),calendar:()=>Ue.filter(t=>t.use.includes("calendar")),menu:()=>Ue.filter(t=>t.use.includes("menu")),shared:()=>Ue.filter(t=>t.use.includes("shared")),yearMode:()=>Ue.filter(t=>t.use.includes("year-mode"))},Ae=(t,n,l)=>{const a=[];return br[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),l!=null&&l.length&&l.forEach(r=>{r.slot&&a.push(r.slot)}),a},lt=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),l=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},ot=(t,n,l)=>{const{defaultedRange:a,defaultedTz:r}=ye(t),c=x($e(x(),r.value.timezone)),d=e.ref([{month:s.getMonth(c),year:s.getYear(c)}]),v=b=>{const P={hours:s.getHours(c),minutes:s.getMinutes(c),seconds:0};return a.value.enabled?[P[b],P[b]]:P[b]},f=e.reactive({hours:v("hours"),minutes:v("minutes"),seconds:v("seconds")});e.watch(a,(b,P)=>{b.enabled!==P.enabled&&(f.hours=v("hours"),f.minutes=v("minutes"),f.seconds=v("seconds"))},{deep:!0});const z=e.computed({get:()=>t.internalModelValue,set:b=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",b)}}),p=e.computed(()=>b=>d.value[b]?d.value[b].month:0),N=e.computed(()=>b=>d.value[b]?d.value[b].year:0);return e.watch(z,(b,P)=>{l&&JSON.stringify(b??{})!==JSON.stringify(P??{})&&l()},{deep:!0}),{calendars:d,time:f,modelValue:z,month:p,year:N,today:c}},vr=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:c,defaultedTz:d,propDates:v,defaultedRange:f}=ye(n),{isDisabled:z}=We(n),p=e.ref(null),N=e.ref($e(new Date,d.value.timezone)),b=i=>{!i.current&&n.hideOffsetDates||(p.value=i.value)},P=()=>{p.value=null},H=i=>Array.isArray(t.value)&&f.value.enabled&&t.value[0]&&p.value?i?ke(p.value,t.value[0]):he(p.value,t.value[0]):!0,_=(i,S)=>{const I=()=>t.value?S?t.value[0]||null:t.value[1]:null,u=t.value&&Array.isArray(t.value)?I():null;return fe(x(i.value),u)},U=i=>{const S=Array.isArray(t.value)?t.value[0]:null;return i?!he(p.value??null,S):!0},m=(i,S=!0)=>(f.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!i.current?!1:fe(x(i.value),t.value[S?0:1]):f.value.enabled?_(i,S)&&U(S)||fe(i.value,Array.isArray(t.value)?t.value[0]:null)&&H(S):!1,E=(i,S)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const I=fe(i.value,p.value);return S?ke(t.value[0],i.value)&&I:he(t.value[0],i.value)&&I}return!1},$=i=>!t.value||n.hideOffsetDates&&!i.current?!1:f.value.enabled?n.modelAuto&&Array.isArray(t.value)?fe(i.value,t.value[0]?t.value[0]:N.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(S=>fe(S,i.value)):fe(i.value,t.value?t.value:N.value),q=i=>{if(f.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!i.current)return!1;const S=s.addDays(p.value,+f.value.autoRange),I=Ve(x(p.value),n.weekStart);return n.weekPicker?fe(I[1],x(i.value)):fe(S,x(i.value))}return!1}return!1},F=i=>{if(f.value.autoRange||n.weekPicker){if(p.value){const S=s.addDays(p.value,+f.value.autoRange);if(n.hideOffsetDates&&!i.current)return!1;const I=Ve(x(p.value),n.weekStart);return n.weekPicker?ke(i.value,I[0])&&he(i.value,I[1]):ke(i.value,p.value)&&he(i.value,S)}return!1}return!1},ne=i=>{if(f.value.autoRange||n.weekPicker){if(p.value){if(n.hideOffsetDates&&!i.current)return!1;const S=Ve(x(p.value),n.weekStart);return n.weekPicker?fe(S[0],i.value):fe(p.value,i.value)}return!1}return!1},J=i=>dt(t.value,p.value,i.value),T=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,X=()=>n.modelAuto?on(n.internalModelValue):!0,O=i=>{if(n.weekPicker)return!1;const S=f.value.enabled?!m(i)&&!m(i,!1):!0;return!z(i.value)&&!$(i)&&!(!i.current&&n.hideOffsetDates)&&S},G=i=>f.value.enabled?n.modelAuto?T()&&$(i):!1:$(i),le=i=>c.value?Kn(i.value,v.value.highlight):!1,ie=i=>{const S=z(i.value);return S&&(typeof c.value=="function"?!c.value(i.value,S):!c.value.options.highlightDisabled)},h=i=>{var S;return typeof c.value=="function"?c.value(i.value):(S=c.value.weekdays)==null?void 0:S.includes(i.value.getDay())},L=i=>(f.value.enabled||n.weekPicker)&&(!(l.value.count>0)||i.current)&&X()&&!(!i.current&&n.hideOffsetDates)&&!$(i)?J(i):!1,Z=i=>{const{isRangeStart:S,isRangeEnd:I}=y(i),u=f.value.enabled?S||I:!1;return{dp__cell_offset:!i.current,dp__pointer:!n.disabled&&!(!i.current&&n.hideOffsetDates)&&!z(i.value),dp__cell_disabled:z(i.value),dp__cell_highlight:!ie(i)&&(le(i)||h(i))&&!G(i)&&!u&&!ne(i)&&!(L(i)&&n.weekPicker)&&!I,dp__cell_highlight_active:!ie(i)&&(le(i)||h(i))&&G(i),dp__today:!n.noToday&&fe(i.value,N.value)&&i.current,"dp--past":he(i.value,N.value),"dp--future":ke(i.value,N.value)}},k=i=>({dp__active_date:G(i),dp__date_hover:O(i)}),Q=i=>{if(t.value&&!Array.isArray(t.value)){const S=Ve(t.value,n.weekStart);return{...Y(i),dp__range_start:fe(S[0],i.value),dp__range_end:fe(S[1],i.value),dp__range_between_week:ke(i.value,S[0])&&he(i.value,S[1])}}return{...Y(i)}},C=i=>{if(t.value&&Array.isArray(t.value)){const S=Ve(t.value[0],n.weekStart),I=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...Y(i),dp__range_start:fe(S[0],i.value)||fe(I[0],i.value),dp__range_end:fe(S[1],i.value)||fe(I[1],i.value),dp__range_between_week:ke(i.value,S[0])&&he(i.value,S[1])||ke(i.value,I[0])&&he(i.value,I[1]),dp__range_between:ke(i.value,S[1])&&he(i.value,I[0])}}return{...Y(i)}},y=i=>{const S=l.value.count>0?i.current&&m(i)&&X():m(i)&&X(),I=l.value.count>0?i.current&&m(i,!1)&&X():m(i,!1)&&X();return{isRangeStart:S,isRangeEnd:I}},ae=i=>{const{isRangeStart:S,isRangeEnd:I}=y(i);return{dp__range_start:S,dp__range_end:I,dp__range_between:L(i),dp__date_hover:fe(i.value,p.value)&&!S&&!I&&!n.weekPicker,dp__date_hover_start:E(i,!0),dp__date_hover_end:E(i,!1)}},Y=i=>({...ae(i),dp__cell_auto_range:F(i),dp__cell_auto_range_start:ne(i),dp__cell_auto_range_end:q(i)}),D=i=>f.value.enabled?f.value.autoRange?Y(i):n.modelAuto?{...k(i),...ae(i)}:n.weekPicker?C(i):ae(i):n.weekPicker?Q(i):k(i);return{setHoverDate:b,clearHoverDate:P,getDayClassData:i=>n.hideOffsetDates&&!i.current?{}:{...Z(i),...D(i),[n.dayClass?n.dayClass(i.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:a,defaultedMultiDates:r}=ye(t),c=h=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(x(h)):!!ct(h,a.value.disabledDates):!1,d=h=>a.value.maxDate?t.yearPicker?s.getYear(h)>s.getYear(a.value.maxDate):ke(h,a.value.maxDate):!1,v=h=>a.value.minDate?t.yearPicker?s.getYear(h)<s.getYear(a.value.minDate):he(h,a.value.minDate):!1,f=h=>{const L=d(h),Z=v(h),k=c(h),C=n.value.months.map(W=>+W).includes(s.getMonth(h)),y=t.disabledWeekDays.length?t.disabledWeekDays.some(W=>+W===s.getDay(h)):!1,ae=P(h),Y=s.getYear(h),D=Y<+t.yearRange[0]||Y>+t.yearRange[1];return!(L||Z||k||C||D||y||ae)},z=(h,L)=>he(...Le(a.value.minDate,h,L))||fe(...Le(a.value.minDate,h,L)),p=(h,L)=>ke(...Le(a.value.maxDate,h,L))||fe(...Le(a.value.maxDate,h,L)),N=(h,L,Z)=>{let k=!1;return a.value.maxDate&&Z&&p(h,L)&&(k=!0),a.value.minDate&&!Z&&z(h,L)&&(k=!0),k},b=(h,L,Z,k)=>{let Q=!1;return k&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?Q=N(h,L,Z):(a.value.minDate&&z(h,L)||a.value.maxDate&&p(h,L))&&(Q=!0):Q=!0,Q},P=h=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!ct(h,a.value.allowedDates):!1,H=h=>!f(h),_=h=>l.value.noDisabledRange?!s.eachDayOfInterval({start:h[0],end:h[1]}).some(Z=>H(Z)):!0,U=h=>{if(h){const L=s.getYear(h);return L>=+t.yearRange[0]&&L<=t.yearRange[1]}return!0},m=(h,L)=>!!(Array.isArray(h)&&h[L]&&(l.value.maxRange||l.value.minRange)&&U(h[L])),E=(h,L,Z=0)=>{if(m(L,Z)&&U(h)){const k=s.differenceInCalendarDays(h,L[Z]),Q=yn(L[Z],h),C=Q.length===1?0:Q.filter(ae=>H(ae)).length,y=Math.abs(k)-(l.value.minMaxRawRange?0:C);if(l.value.minRange&&l.value.maxRange)return y>=+l.value.minRange&&y<=+l.value.maxRange;if(l.value.minRange)return y>=+l.value.minRange;if(l.value.maxRange)return y<=+l.value.maxRange}return!0},$=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,q=h=>Array.isArray(h)?[h[0]?_t(h[0]):null,h[1]?_t(h[1]):null]:_t(h),F=(h,L,Z)=>h.find(k=>+k.hours===s.getHours(L)&&k.minutes==="*"?!0:+k.minutes===s.getMinutes(L)&&+k.hours===s.getHours(L))&&Z,ne=(h,L,Z)=>{const[k,Q]=h,[C,y]=L;return!F(k,C,Z)&&!F(Q,y,Z)&&Z},J=(h,L)=>{const Z=Array.isArray(L)?L:[L];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ne(t.disabledTimes,Z,h):!Z.some(k=>F(t.disabledTimes,k,h)):h},T=(h,L)=>{const Z=Array.isArray(L)?[qe(L[0]),L[1]?qe(L[1]):void 0]:qe(L),k=!t.disabledTimes(Z);return h&&k},X=(h,L)=>t.disabledTimes?Array.isArray(t.disabledTimes)?J(L,h):T(L,h):L,O=h=>{let L=!0;if(!h||$())return!0;const Z=!a.value.minDate&&!a.value.maxDate?q(h):h;return(t.maxTime||a.value.maxDate)&&(L=vn(t.maxTime,a.value.maxDate,"max",ve(Z),L)),(t.minTime||a.value.minDate)&&(L=vn(t.minTime,a.value.minDate,"min",ve(Z),L)),X(h,L)},G=h=>{if(!t.monthPicker)return!0;let L=!0;const Z=x(Ee(h));if(a.value.minDate&&a.value.maxDate){const k=x(Ee(a.value.minDate)),Q=x(Ee(a.value.maxDate));return ke(Z,k)&&he(Z,Q)||fe(Z,k)||fe(Z,Q)}if(a.value.minDate){const k=x(Ee(a.value.minDate));L=ke(Z,k)||fe(Z,k)}if(a.value.maxDate){const k=x(Ee(a.value.maxDate));L=he(Z,k)||fe(Z,k)}return L},le=e.computed(()=>h=>!t.enableTimePicker||t.ignoreTimeValidation?!0:O(h)),ie=e.computed(()=>h=>t.monthPicker?Array.isArray(h)&&(l.value.enabled||r.value.enabled)?!h.filter(Z=>!G(Z)).length:G(h):!0);return{isDisabled:H,validateDate:f,validateMonthYearInRange:b,isDateRangeAllowed:_,checkMinMaxRange:E,isValidTime:O,isTimeValid:le,isMonthValid:ie}},ht=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),l=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},wr=(t,n,l)=>{const a=e.ref(0),r=e.reactive({[xe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[xe.calendar]:!1,[xe.header]:!1}),c=e.computed(()=>t.monthPicker||t.timePicker),d=N=>{var b;if((b=t.flow)!=null&&b.length){if(!N&&c.value)return p();r[N]=!0,Object.keys(r).filter(P=>!r[P]).length||p()}},v=()=>{var N,b;(N=t.flow)!=null&&N.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),p()),((b=t.flow)==null?void 0:b.length)===a.value&&e.nextTick().then(()=>f())},f=()=>{a.value=-1},z=(N,b,...P)=>{var H,_;t.flow[a.value]===N&&l.value&&((_=(H=l.value)[b])==null||_.call(H,...P))},p=(N=0)=>{N&&(a.value+=N),z(De.month,"toggleMonthPicker",!0),z(De.year,"toggleYearPicker",!0),z(De.calendar,"toggleTimePicker",!1,!0),z(De.time,"toggleTimePicker",!0,!0);const b=t.flow[a.value];(b===De.hours||b===De.minutes||b===De.seconds)&&z(b,"toggleTimePicker",!0,!0,b)};return{childMount:d,updateFlowStep:v,resetFlow:f,handleFlow:p,flowStep:a}},Mr={key:1,class:"dp__input_wrap"},Dr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Sr={key:2,class:"dp--clear-btn"},Br=["aria-label"],Cr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...pt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTextInput:c,defaultedAriaLabels:d,defaultedInline:v,defaultedConfig:f,defaultedRange:z,defaultedMultiDates:p,defaultedUI:N,getDefaultPattern:b,getDefaultStartTime:P}=ye(r),{checkMinMaxRange:H}=We(r),_=e.ref(),U=e.ref(null),m=e.ref(!1),E=e.ref(!1),$=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!c.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:m.value||r.isMenuOpen,dp__input_reg:!c.value.enabled,...N.value.input??{}})),q=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),_.value=null)},F=y=>{const ae=P();return xn(y,c.value.format??b(),ae??hn({},r.enableSeconds),r.inputValue,E.value,r.formatLocale)},ne=y=>{const{rangeSeparator:ae}=c.value,[Y,D]=y.split(`${ae}`);if(Y){const W=F(Y.trim()),i=D?F(D.trim()):null;if(s.isAfter(W,i))return;const S=W&&i?[W,i]:[W];H(i,S,0)&&(_.value=W?S:null)}},J=()=>{E.value=!0},T=y=>{if(z.value.enabled)ne(y);else if(p.value.enabled){const ae=y.split(";");_.value=ae.map(Y=>F(Y.trim())).filter(Y=>Y)}else _.value=F(y)},X=y=>{var Y;const ae=typeof y=="string"?y:(Y=y.target)==null?void 0:Y.value;ae!==""?(c.value.openMenu&&!r.isMenuOpen&&a("open"),T(ae),a("set-input-date",_.value)):q(),E.value=!1,a("update:input-value",ae),a("text-input",y,_.value)},O=y=>{c.value.enabled?(T(y.target.value),c.value.enterSubmit&&Ot(_.value)&&r.inputValue!==""?(a("set-input-date",_.value,!0),_.value=null):c.value.enterSubmit&&r.inputValue===""&&(_.value=null,a("clear"))):ie(y)},G=(y,ae)=>{c.value.enabled&&c.value.tabSubmit&&!ae&&T(y.target.value),c.value.tabSubmit&&Ot(_.value)&&r.inputValue!==""?(a("set-input-date",_.value,!0,!0),_.value=null):c.value.tabSubmit&&r.inputValue===""&&(_.value=null,a("clear",!0))},le=()=>{m.value=!0,a("focus"),e.nextTick().then(()=>{var y;c.value.enabled&&c.value.selectOnFocus&&((y=U.value)==null||y.select())})},ie=y=>{if(Ie(y,f.value,!0),c.value.enabled&&c.value.openMenu&&!v.value.input){if(c.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(c.value.openMenu==="toggle")return a("toggle")}else c.value.enabled||a("toggle")},h=()=>{a("real-blur"),m.value=!1,(!r.isMenuOpen||v.value.enabled&&v.value.input)&&a("blur"),r.autoApply&&c.value.enabled&&_.value&&!r.isMenuOpen&&(a("set-input-date",_.value),a("select-date"),_.value=null)},L=y=>{Ie(y,f.value,!0),a("clear")},Z=y=>{if(y.key==="Tab"&&G(y),y.key==="Enter"&&O(y),!c.value.enabled){if(y.code==="Tab")return;y.preventDefault()}},k=()=>{var y;(y=U.value)==null||y.focus({preventScroll:!0})},Q=y=>{_.value=y},C=y=>{y.key===pe.tab&&G(y,!0)};return n({focusInput:k,setParsedDate:Q}),(y,ae)=>{var Y,D,W;return e.openBlock(),e.createElementBlock("div",{onClick:ie},[y.$slots.trigger&&!y.$slots["dp-input"]&&!e.unref(v).enabled?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!e.unref(v).enabled||e.unref(v).input)?(e.openBlock(),e.createElementBlock("div",Mr,[y.$slots["dp-input"]&&!y.$slots.trigger&&(!e.unref(v).enabled||e.unref(v).enabled&&e.unref(v).input)?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:X,onEnter:O,onTab:G,onClear:L,onBlur:h,onKeypress:Z,onPaste:J,onFocus:le,openMenu:()=>y.$emit("open"),closeMenu:()=>y.$emit("close"),toggleMenu:()=>y.$emit("toggle")}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:y.uid?`dp-input-${y.uid}`:void 0,ref_key:"inputRef",ref:U,"data-test":"dp-input",name:y.name,class:e.normalizeClass($.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,"aria-label":(Y=e.unref(d))==null?void 0:Y.input,"aria-disabled":y.disabled||void 0,"aria-invalid":y.state===!1?!0:void 0,onInput:X,onBlur:h,onFocus:le,onKeypress:Z,onKeydown:ae[0]||(ae[0]=i=>Z(i)),onPaste:J},null,42,Dr)),e.createElementVNode("div",{onClick:ae[3]||(ae[3]=i=>a("toggle"))},[y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:ae[1]||(ae[1]=i=>a("toggle"))},[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Xe),{key:1,"aria-label":(D=e.unref(d))==null?void 0:D.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:ae[2]||(ae[2]=i=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",Sr,[e.renderSlot(y.$slots,"clear-icon",{clear:L})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("button",{key:3,"aria-label":(W=e.unref(d))==null?void 0:W.clearInput,class:"dp--clear-btn",type:"button",onKeydown:ae[4]||(ae[4]=i=>e.unref(Ce)(i,()=>L(i),!0,C)),onClick:ae[5]||(ae[5]=e.withModifiers(i=>L(i),["prevent"]))},[e.createVNode(e.unref(an),{class:"dp__input_icons","data-test":"clear-icon"})],40,Br)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Tr=typeof window<"u"?window:void 0,xt=()=>{},$r=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ar=(t,n,l,a)=>{if(!t)return xt;let r=xt;const c=e.watch(()=>e.unref(t),v=>{r(),v&&(v.addEventListener(n,l,a),r=()=>{v.removeEventListener(n,l,a),r=xt})},{immediate:!0,flush:"post"}),d=()=>{c(),r()};return $r(d),d},Pr=(t,n,l,a={})=>{const{window:r=Tr,event:c="pointerdown"}=a;return r?Ar(r,c,v=>{const f=we(t),z=we(n);!f||!z||f===v.target||v.composedPath().includes(f)||v.composedPath().includes(z)||l(v)},{passive:!0}):void 0},Rr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...pt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),d=e.ref(!1),v=e.toRef(r,"modelValue"),f=e.toRef(r,"timezone"),z=e.ref(null),p=e.ref(null),N=e.ref(null),b=e.ref(!1),P=e.ref(null),H=e.ref(!1),_=e.ref(!1),U=e.ref(!1),m=e.ref(!1),{setMenuFocused:E,setShiftKey:$}=Dn(),{clearArrowNav:q}=He(),{validateDate:F,isValidTime:ne}=We(r),{defaultedTransitions:J,defaultedTextInput:T,defaultedInline:X,defaultedConfig:O,defaultedRange:G,defaultedMultiDates:le}=ye(r),{menuTransition:ie,showTransition:h}=lt(J);e.onMounted(()=>{i(r.modelValue),e.nextTick().then(()=>{if(!X.value.enabled){const g=ae(P.value);g==null||g.addEventListener("scroll",R),window==null||window.addEventListener("resize",j)}}),X.value.enabled&&(d.value=!0),window==null||window.addEventListener("keyup",re),window==null||window.addEventListener("keydown",M)}),e.onUnmounted(()=>{if(!X.value.enabled){const g=ae(P.value);g==null||g.removeEventListener("scroll",R),window==null||window.removeEventListener("resize",j)}window==null||window.removeEventListener("keyup",re),window==null||window.removeEventListener("keydown",M)});const L=Ae(c,"all",r.presetDates),Z=Ae(c,"input");e.watch([v,f],()=>{i(v.value)},{deep:!0});const{openOnTop:k,menuStyle:Q,xCorrect:C,setMenuPosition:y,getScrollableParent:ae,shadowRender:Y}=hr({menuRef:z,menuRefInner:p,inputRef:N,pickerWrapperRef:P,inline:X,emit:a,props:r,slots:c}),{inputValue:D,internalModelValue:W,parseExternalModelValue:i,emitModelValue:S,formatInputValue:I,checkBeforeEmit:u}=ya(a,r,b),ee=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":U.value,dp__flex_display_with_input:X.value.input})),ue=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),B=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||X.value.enabled}:{}),ce=e.computed(()=>({class:"dp__outer_menu_wrap"})),o=e.computed(()=>X.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),A=()=>{var g,K;return(K=(g=N.value)==null?void 0:g.$el)==null?void 0:K.getBoundingClientRect()},R=()=>{d.value&&(O.value.closeOnScroll?Pe():y())},j=()=>{var K;d.value&&y();const g=(K=p.value)==null?void 0:K.$el.getBoundingClientRect().width;U.value=document.body.offsetWidth<=g},re=g=>{g.key==="Tab"&&!X.value.enabled&&!r.teleport&&O.value.tabOutClosesMenu&&(P.value.contains(document.activeElement)||Pe()),_.value=g.shiftKey},M=g=>{_.value=g.shiftKey},V=()=>{!r.disabled&&!r.readonly&&(Y(En,r),y(!1),d.value=!0,d.value&&a("open"),d.value||st(),i(r.modelValue))},oe=()=>{var g;D.value="",st(),(g=N.value)==null||g.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),O.value.closeOnClearValue&&Pe()},de=()=>{const g=W.value;return!g||!Array.isArray(g)&&F(g)?!0:Array.isArray(g)?le.value.enabled||g.length===2&&F(g[0])&&F(g[1])?!0:G.value.partialRange&&!r.timePicker?F(g[0]):!1:!1},Re=()=>{u()&&de()?(S(),Pe()):a("invalid-select",W.value)},se=g=>{je(),S(),O.value.closeOnAutoApply&&!g&&Pe()},je=()=>{N.value&&T.value.enabled&&N.value.setParsedDate(W.value)},Ye=(g=!1)=>{r.autoApply&&ne(W.value)&&de()&&(G.value.enabled&&Array.isArray(W.value)?(G.value.partialRange||W.value.length===2)&&se(g):se(g))},st=()=>{T.value.enabled||(W.value=null)},Pe=()=>{X.value.enabled||(d.value&&(d.value=!1,C.value=!1,E(!1),$(!1),q(),a("closed"),D.value&&i(v.value)),st(),a("blur"))},it=(g,K,te=!1)=>{if(!g){W.value=null;return}const me=Array.isArray(g)?!g.some(Ge=>!F(Ge)):F(g),Me=ne(g);me&&Me?(m.value=!0,W.value=g,K&&(H.value=te,Re(),a("text-submit")),e.nextTick().then(()=>{m.value=!1})):a("invalid-date",g)},Gt=()=>{r.autoApply&&ne(W.value)&&S(),je()},kt=()=>d.value?Pe():V(),Qt=g=>{W.value=g},Xt=()=>{T.value.enabled&&(b.value=!0,I()),a("focus")},Jt=()=>{if(T.value.enabled&&(b.value=!1,i(r.modelValue),H.value)){const g=jn(P.value,_.value);g==null||g.focus()}a("blur")},Zt=g=>{p.value&&p.value.updateMonthYear(0,{month:sn(g.month),year:sn(g.year)})},Ft=g=>{i(g??r.modelValue)},en=(g,K)=>{var te;(te=p.value)==null||te.switchView(g,K)},On=g=>O.value.onClickOutside?O.value.onClickOutside(g):Pe(),w=(g=0)=>{var K;(K=p.value)==null||K.handleFlow(g)};return Pr(z,N,()=>On(de)),n({closeMenu:Pe,selectDate:Re,clearValue:oe,openMenu:V,onScroll:R,formatInputValue:I,updateInternalModelValue:Qt,setMonthYear:Zt,parseModel:Ft,switchView:en,toggleMenu:kt,handleFlow:w,dpWrapMenuRef:z}),(g,K)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:P,class:e.normalizeClass(ee.value),"data-datepicker-instance":""},[e.createVNode(Cr,e.mergeProps({ref_key:"inputRef",ref:N,"input-value":e.unref(D),"onUpdate:inputValue":K[0]||(K[0]=te=>e.isRef(D)?D.value=te:null),"is-menu-open":d.value},g.$props,{onClear:oe,onOpen:V,onSetInputDate:it,onSetEmptyDate:e.unref(S),onSelectDate:Re,onToggle:kt,onClose:Pe,onFocus:Xt,onBlur:Jt,onRealBlur:K[1]||(K[1]=te=>b.value=!1),onTextInput:K[2]||(K[2]=te=>g.$emit("text-input",te))}),e.createSlots({_:2},[e.renderList(e.unref(Z),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(g.$slots,te,e.normalizeProps(e.guardReactiveProps(Me)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(B.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(ie)(e.unref(k)),css:e.unref(h)&&!e.unref(X).enabled},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:z},ce.value,{class:{"dp--menu-wrapper":!e.unref(X).enabled},style:e.unref(X).enabled?void 0:e.unref(Q)}),[e.createVNode(En,e.mergeProps({ref_key:"dpMenuRef",ref:p},g.$props,{"internal-model-value":e.unref(W),"onUpdate:internalModelValue":K[3]||(K[3]=te=>e.isRef(W)?W.value=te:null),class:{[ue.value]:!0,"dp--menu-wrapper":g.teleport},"open-on-top":e.unref(k),"no-overlay-focus":o.value,collapse:U.value,"get-input-rect":A,"is-text-input-date":m.value,onClosePicker:Pe,onSelectDate:Re,onAutoApply:Ye,onTimeUpdate:Gt,onFlowStep:K[4]||(K[4]=te=>g.$emit("flow-step",te)),onUpdateMonthYear:K[5]||(K[5]=te=>g.$emit("update-month-year",te)),onInvalidSelect:K[6]||(K[6]=te=>g.$emit("invalid-select",e.unref(W))),onAutoApplyInvalid:K[7]||(K[7]=te=>g.$emit("invalid-select",te)),onInvalidFixedRange:K[8]||(K[8]=te=>g.$emit("invalid-fixed-range",te)),onRecalculatePosition:e.unref(y),onTooltipOpen:K[9]||(K[9]=te=>g.$emit("tooltip-open",te)),onTooltipClose:K[10]||(K[10]=te=>g.$emit("tooltip-close",te)),onTimePickerOpen:K[11]||(K[11]=te=>g.$emit("time-picker-open",te)),onTimePickerClose:K[12]||(K[12]=te=>g.$emit("time-picker-close",te)),onAmPmChange:K[13]||(K[13]=te=>g.$emit("am-pm-change",te)),onRangeStart:K[14]||(K[14]=te=>g.$emit("range-start",te)),onRangeEnd:K[15]||(K[15]=te=>g.$emit("range-end",te)),onDateUpdate:K[16]||(K[16]=te=>g.$emit("date-update",te)),onInvalidDate:K[17]||(K[17]=te=>g.$emit("invalid-date",te)),onOverlayToggle:K[18]||(K[18]=te=>g.$emit("overlay-toggle",te))}),e.createSlots({_:2},[e.renderList(e.unref(L),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(g.$slots,te,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),qt=(()=>{const t=Rr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(qt[t]=n)}),qt});
